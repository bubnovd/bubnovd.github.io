<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>MS on Админская фамилия</title><link>https://bubnovd.net/tags/ms/</link><description>Recent content in MS on Админская фамилия</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 18 Jul 2017 21:19:00 +0000</lastBuildDate><atom:link href="https://bubnovd.net/tags/ms/index.xml" rel="self" type="application/rss+xml"/><item><title>LAPS (Local Administrator Password Solution)</title><link>https://bubnovd.net/blogger/laps-local-administrator-password-solution/</link><pubDate>Tue, 18 Jul 2017 21:19:00 +0000</pubDate><guid>https://bubnovd.net/blogger/laps-local-administrator-password-solution/</guid><description>Очень нужный инструмент. Сколько тысяч граблей было сломано в попытках решить то, что уже решено вендором.Материал тупо скопировав с telegra.ph, чтобы не потерять.Как оказалось, многие не знают, что давно есть бесплатное решение от Microsoft по управлению локальными паролями администраторов под названием LAPS (Local Administrator Password Solution). Я решил, что надо собрать подборку материалов, связанных с ЛАПСом, чтобы все было в одном месте. Часть материалов есть на русском, часть на сами знаете каком, но перед этим давайте разберемся для чего нужен LAPS:Безопасно хранить пароль локального администратора в Active Directory для каждой рабочей станции;Устанавливать правила сложности и длины пароля;Менять пароль локального администратора на устройстве через Active Directory;Устанавливать срок истечения времени действия пароля локального администратора и автоматически менять его.</description><content>&lt;p>Очень нужный инструмент. Сколько тысяч граблей было сломано в попытках решить то, что уже решено вендором.&lt;!-- raw HTML omitted -->Материал тупо скопировав с &lt;!-- raw HTML omitted -->telegra.ph&lt;!-- raw HTML omitted -->, чтобы не потерять.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как оказалось, многие не знают, что давно есть бесплатное решение от Microsoft по управлению локальными паролями администраторов под названием LAPS (&lt;!-- raw HTML omitted -->L&lt;!-- raw HTML omitted -->ocal &lt;!-- raw HTML omitted -->A&lt;!-- raw HTML omitted -->dministrator &lt;!-- raw HTML omitted -->P&lt;!-- raw HTML omitted -->assword &lt;!-- raw HTML omitted -->S&lt;!-- raw HTML omitted -->olution). Я решил, что надо собрать подборку материалов, связанных с ЛАПСом, чтобы все было в одном месте. Часть материалов есть на русском, часть на сами знаете каком, но перед этим давайте разберемся для чего нужен LAPS:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Безопасно хранить пароль локального администратора в Active Directory для каждой рабочей станции;&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Устанавливать правила сложности и длины пароля;&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Менять пароль локального администратора на устройстве через Active Directory;&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Устанавливать срок истечения времени действия пароля локального администратора и автоматически менять его.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Посты на русском: &lt;!-- raw HTML omitted -->Раз - &lt;!-- raw HTML omitted -->&lt;a href="https://www.atraining.ru/laps-local-administrator-password-solution/">https://www.atraining.ru/laps-local-administrator-password-solution/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Два - &lt;!-- raw HTML omitted -->&lt;a href="http://winitpro.ru/index.php/2015/05/07/ms-local-administrator-password-solution-upravlenie-parolyami-lokalnyx-administratorov-v-domene/">http://winitpro.ru/index.php/2015/05/07/ms-local-administrator-password-solution-upravlenie-parolyami-lokalnyx-administratorov-v-domene/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Скачать Local Administrator Password Solution (LAPS) версия 6.2 - &lt;!-- raw HTML omitted -->&lt;a href="https://www.microsoft.com/en-us/download/details.aspx?id=46899">https://www.microsoft.com/en-us/download/details.aspx?id=46899&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> Просто классика. Управление локальными паролями администраторов в восьми частях:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Overview - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/platformspfe/2013/10/22/managing-local-administrator-passwords/">https://blogs.technet.microsoft.com/platformspfe/2013/10/22/managing-local-administrator-passwords/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Random Password Generation - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/01/20/part-2-managing-local-administrator-passwords.aspx">https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/01/20/part-2-managing-local-administrator-passwords.aspx&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Secure Active Directory Attribute Update - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/02/17/part-3-managing-local-administrator-passwords.aspx">https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/02/17/part-3-managing-local-administrator-passwords.aspx&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Update Local Account&amp;rsquo;s Password - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/02/17/part-4-managing-local-administrator-passwords.aspx">https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/02/17/part-4-managing-local-administrator-passwords.aspx&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Logging Function Output - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/02/17/part-5-managing-local-administrator-passwords.aspx">https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/02/17/part-5-managing-local-administrator-passwords.aspx&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Extending The Active Directory Schema - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/04/02/part-6-managing-local-administrator-passwords.aspx">https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/04/02/part-6-managing-local-administrator-passwords.aspx&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Completed Script - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/05/13/part-7-managing-local-administrator-passwords.aspx">https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/05/13/part-7-managing-local-administrator-passwords.aspx&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Completed Secure Password Viewer - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/08/12/part-8-final-managing-local-administrator-passwords.aspx">https://blogs.technet.microsoft.com/b/platformspfe/archive/2014/08/12/part-8-final-managing-local-administrator-passwords.aspx&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->LAPS Audit Reporting via WEF PoSH and PowerBI&lt;!-- raw HTML omitted --> - &lt;!-- raw HTML omitted -->&lt;a href="https://blogs.technet.microsoft.com/kfalde/2015/11/18/laps-audit-reporting-via-wef-posh-and-powerbi/">https://blogs.technet.microsoft.com/kfalde/2015/11/18/laps-audit-reporting-via-wef-posh-and-powerbi/&lt;/a>&lt;!-- raw HTML omitted --> Весь архив лежит на гитхабе, включая отчет для PowerBI - &lt;!-- raw HTML omitted -->&lt;a href="https://github.com/kurtfalde/LAPS-Reporting">https://github.com/kurtfalde/LAPS-Reporting&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Microsoft LAPS и Configuration Manager&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Расширение для консоли (работает с SCCM 2012 R2 CU1 и SCCM Current Branch: 1511, 1602, 1606), которое позволяет просматривать пароли для устройств - &lt;!-- raw HTML omitted -->&lt;a href="https://gallery.technet.microsoft.com/LAPS-Extension-for-SCCM-e8bd35b1">https://gallery.technet.microsoft.com/LAPS-Extension-for-SCCM-e8bd35b1&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Описание по созданию Configuration Items для LAPS - &lt;!-- raw HTML omitted -->&lt;a href="https://4sysops.com/archives/monitoring-laps-with-configuration-manager/">https://4sysops.com/archives/monitoring-laps-with-configuration-manager/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->FAQ в 2-х частях (англ.):&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="https://4sysops.com/archives/faqs-for-microsoft-local-administrator-password-solution-laps/">https://4sysops.com/archives/faqs-for-microsoft-local-administrator-password-solution-laps/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="https://4sysops.com/archives/part-2-faqs-for-microsoft-local-administrator-password-solution-laps/">https://4sysops.com/archives/part-2-faqs-for-microsoft-local-administrator-password-solution-laps/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Видео:&lt;!-- raw HTML omitted -->Taste of Premier: How to tackle Local Admin Password Problems in the Enterprise with LAPS - &lt;!-- raw HTML omitted -->&lt;a href="https://channel9.msdn.com/Blogs/Taste-of-Premier/Taste-of-Premier-How-to-tackle-Local-Admin-Password-Problems-in-the-Enterprise-with-LAPS">https://channel9.msdn.com/Blogs/Taste-of-Premier/Taste-of-Premier-How-to-tackle-Local-Admin-Password-Problems-in-the-Enterprise-with-LAPS&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Этих ребят я обожаю, у них клевые видео по безопасности - &lt;!-- raw HTML omitted -->Microsoft Local Admin Password Solution (LAPS) – Deployment Steps &lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Годный пост про семейство ARP</title><link>https://bubnovd.net/blogger/%D0%B3%D0%BE%D0%B4%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BE%D1%81%D1%82-%D0%BF%D1%80%D0%BE-%D1%81%D0%B5%D0%BC%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%BE-arp/</link><pubDate>Mon, 30 Jan 2017 03:12:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%B3%D0%BE%D0%B4%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BE%D1%81%D1%82-%D0%BF%D1%80%D0%BE-%D1%81%D0%B5%D0%BC%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%BE-arp/</guid><description>Заслуживающий отдельного внимания пост про семейство протоколов ARP и особенности их работы на Windows от Руслана КармановаОригинал тут. Я просто скопипастил весь текстСемейка протокола ARPПротокол ARP вроде бы простой и тривиальный, но количество его однофамильцев с различным функционалом - достаточно серьёзно. Разбираемся.Привет.Многие думают, что если протокол мелкий и незаметный, то про него не надо ничего знать. Нетрудно догадаться, что это не так, и именно детальное знание подобных низкоуровневых задач является тем, что отличает профессионала от гуглоиксперта или фанатика, верующего, что в его любимой ОС всё работает “само по себе и априори идеально”.</description><content>&lt;p>Заслуживающий отдельного внимания пост про семейство протоколов ARP и особенности их работы на Windows от &lt;!-- raw HTML omitted -->Руслана Карманова&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Оригинал &lt;!-- raw HTML omitted -->тут&lt;!-- raw HTML omitted -->. Я просто скопипастил весь текст&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Семейка протокола ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол ARP вроде бы простой и тривиальный, но количество его однофамильцев с различным функционалом - достаточно серьёзно. Разбираемся.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Привет.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Многие думают, что если протокол мелкий и незаметный, то про него не надо ничего знать. Нетрудно догадаться, что это не так, и именно детальное знание подобных низкоуровневых задач является тем, что отличает профессионала от гуглоиксперта или фанатика, верующего, что в его любимой ОС всё работает “само по себе и априори идеально”.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Оглавление&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> Вкратце про сам протокол и формат заголовка&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> Базовый тюнинг – тайм-ауты и кэш&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> ARP и QoS&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> ARP и NLB&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> ARP и SNAP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> ARP и NUD&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> ARP и DAD&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> ARP и WOL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ARP и РПГ-7&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол RARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол InARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол UNARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол SLARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол DirectedARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Безопасность ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Механизм Proxy ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Что такое и как работает Gratuitous ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Cisco ARP Optimization Feature – что это?&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как работает протокол ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол Address Resolution Protocol (ARP) используется для простой задачи – выяснить по известному адресу сетевого уровня (IP) неизвестный адрес канального уровня (например MAC). Данные ARP вкладываются в протокол канального уровня и являются, по уровню вложения, протоколом 3го уровня, а вот по функционалу остаются протоколом 2го уровня. Это я к тому, что модель OSI надо знать не хорошо, а очень хорошо. Для идентификации ARP внутри кадра Ethernet будет использоваться код протокола &lt;!-- raw HTML omitted -->0x0806&lt;!-- raw HTML omitted -->. В состав ARP-пакета будет входить следующие интересные поля:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Тип оборудования (длина поля – 2 байта): Код, обозначающий тип среды, в которой идёт работа. Для Ethernet’ов это будет единица, готы могут ставить 5 (для протокола Chaos), эстеты – 149.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Тип протокола сетевого уровня, про который идёт речь в ARP-пакете (длина поля – 2 байта): Стандартный код протокола, такой же, как в 802.3, например. То есть для IPv4 – это &lt;!-- raw HTML omitted -->0x0800&lt;!-- raw HTML omitted -->.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Длина адреса канального уровня (длина поля – 1 байт): Сколько байт в адресе канального уровня. Например, для 802.3 это будет 6.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Длина адреса сетевого уровня (длина поля – 1 байт): Сколько байт в адресе сетевого уровня. Например, для IPv4 это будет 4.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Код операции ARP (длина поля – 2 байта): У операции ARP Request это единица, у ARP Response – двойка. Да, такой вот обильный в плане функционала протокол. :)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Адрес канального уровня отправителя (SRC MAC, говоря проще) – уникастовый MAC-адрес интерфейса, с которого отправляется запрос.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Адрес сетевого уровня отправителя (SRC IP, говоря проще) – уникастовый IP-адрес интерфейса, с которого отправляется запрос. В случае нескольких IP-адресов на интерфейсе – основной адрес интерфейса (primary).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Искомый адрес канального уровня – в случае ARP – широковещательный 802.3 адрес вида FF-FF-FF-FF-FF-FF. Ведь очевидно, что раз делается ARP-запрос вида “я знаю только искомый IP-адрес”, то искомый адрес канального уровня неизвестен, поэтому сюда пишется “заглушка” из броадкаста. На фактическое распространение она не влияет, т.к. в самом Ethernet-кадре, в котором вложен ARP-запрос, уже указан броадкаст как DST MAC.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Искомый адрес сетевого уровня – в случае ARP – тот самый IP-адрес, для которого надо найти соответствующий MAC.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Задачи, стоящие перед протоколом, достаточно прозрачны. Как он будет настраиваться?&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Базовые операции с ARP для Windows&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Почистить локальный кэш ARP или удалить отдельную запись&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Кэш: &lt;!-- raw HTML omitted -->arp -d&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Запись: &lt;!-- raw HTML omitted -->arp -d &lt;!-- raw HTML omitted -->ip-адрес&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Добавить статическую ARP-запись&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->arp -s &lt;!-- raw HTML omitted -->ip-адрес&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->mac-адрес&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Детально посмотреть кэш&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->arp -a -v&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Будут видны все типы записей – и static, и dynamic, и invalid. Сам вывод будет разбит по критерию привязки записей к интерфейсам – в начале каждого раздела будет выводиться primary IP интерфейса, а потом его внутренний идентификатор (Вы можете посмотреть табличку интерфейсов и их ID командой &lt;!-- raw HTML omitted -->netsh int ipv4 sh int&lt;!-- raw HTML omitted -->).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Есть и более современный вариант отображения кэша:&lt;!-- raw HTML omitted -->netsh interface ipv4 show nei&lt;!-- raw HTML omitted -->. В этой команде вывод также разбит по интерфейсам (правда, пишутся их человеческие названия, а не primary IP), статические и системные записи будут называться Permanent, обычные – Reachable (если доступны), Unreacheable (если нет) и Stale (если запись устарела).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Базовые операции с ARP на оборудовании Cisco&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как добавить статическую запись&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config)#arp &lt;!-- raw HTML omitted -->ip-адрес или “vrf имя-vrf”&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->mac-адрес&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->тип-вложения&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->тип-интерфейса&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Из интересного тут разве что тип вложения – можно указать, какой именно вариант вложения (из реально возможных сейчас – ARPA или SNAP) будет у записи. Параметр “Тип интерфейса” можно не указывать.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Настроить включение-выключение ARP и его тип&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config-if)#arp &lt;!-- raw HTML omitted -->arpa или frame-relay или snap&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как понятно, обычно тип ARP будет ARPA и в модификации нуждаться тоже особо не будет. Внимание – типы не являются взаимоисключающими – т.е. можно сделать и &lt;!-- raw HTML omitted -->arp arpa&lt;!-- raw HTML omitted --> и &lt;!-- raw HTML omitted -->arp snap&lt;!-- raw HTML omitted -->, и это лишь покажет, что на данном интерфейсе надо обрабатывать и тот и тот варианты.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Настроить время нахождения записи в ARP-кэше&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config-if)#arp timeout &lt;!-- raw HTML omitted -->секунды&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Настройка идёт на интерфейсе, т.к. данный тайм-аут будет только у записей в ARP-кэше, сделанных через этот интерфейс.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Очистить кэш ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Весь:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->#clear arp-cache&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Отдельную запись:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->#clear arp-cache &lt;!-- raw HTML omitted -->ip-адрес&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Все записи, привязанные к конкретному интерфейсу:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->#clear arp-cache &lt;!-- raw HTML omitted -->интерфейс&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Настроить работу с incomplete ARP records&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Данные настройки будут нужны, чтобы задать поведение системы в случае “Я точно знаю, что есть сосед с таким IP-адресом, но у меня нет его MAC-адреса”.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Вы можете задать общее число таких адресов, находящихся “в процессе поиска”, а также количество попыток&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Включение:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config)#ip arp incomplete enable&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Количество адресов:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config)#ip arp incomplete entries &lt;!-- raw HTML omitted -->число&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Количество попыток:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config)#ip arp incomplete retry &lt;!-- raw HTML omitted -->число&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Базовый тюнинг ARP – тайм-ауты и кэш&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->В NT 6.0 сетевой стек был ощутимо изменен (приведён в соответствие с RFC 4861), поэтому то, что действовало для XP/2003, работать в большинстве своём не будет. Схема работы ARP-кэша теперь следующая:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Есть кэш “соседей” – для IPv4 и IPv6&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Запись туда идёт после получения ARP-ответа, после чего у строки кэша появляется статус “Reachable”&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Статус теряется в случае отказа интерфейса или по тайм-ауту – если прошло более “ReachableTime” секунд, то статус меняется на “Stale”&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Если хочется отправить пакет узлу, строка кэша для которого находится в состоянии “Stale”, то предварительно надо отправить ARP-запрос&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как точнее считается время? Формула подсчёта такова:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ReachableTime = BaseReachableTime * (случайный коэффициент между MIN_RANDOM_FACTOR и MAX_RANDOM_FACTOR)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Параметры, от которых идёт вычисление, выглядят так: BaseReachableTime = 30 секунд, MIN_RANDOM_FACTOR = 0.5, а MAX_RANDOM_FACTOR – 1.5. Параметр BaseReachableTime изменяем командой:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netsh interface ipv4 set interface &lt;!-- raw HTML omitted -->имя интерфейса&lt;!-- raw HTML omitted --> basereachable=&lt;!-- raw HTML omitted -->количество миллисекунд&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Заметьте, для каждого интерфейса это устанавливается отдельно. Ранее действовавшее общесистемное значение по умолчанию в 120 секунд, таким образом, теперь не актуально. Я бы рекомендовал увеличить это значение до тех же 2х минут, что были раньше – количество трафика снизится, а минусов практически нет – узлы, которые сменят MAC за время устаревания кэша, сами об этом уведомят.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->В случае работы с оборудованием Cisco, данный параметр – тайм-аут записи в ARP-кэше – задаётся на интерфейсе командой:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->arp timeout &lt;!-- raw HTML omitted -->время в секундах&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->и имеет базовое значение в 14400 (это 4 часа).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Суммарный же объём кэша IPv4-соседей можно установить так:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netsh interface ipv4 set global neighborcachelimit=&lt;!-- raw HTML omitted -->количество&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->По умолчанию их 256. Как понятно, в случае, если соседей по среде передачи данных мало (например, есть единственный сетевой интерфейс в сеть с маской /28), этот кэш увеличивать не надо, а уменьшить вполне можно. Помните, это именно кэш ARP, т.е. явных адресов соседей по vlan плюс служебных мультикастов. Нет смысла его раздувать до огромных габаритов, если в сети банально мало узлов, нечего кэшировать особо будет.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Давайте теперь чуть углубимся.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ARP и QoS&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->В случае, когда сетевой интерфейс загружен трафиком, часть трафика может теряться. Увы, ни один из методов queuing не является от этого панацеей. Начиная с Cisco IOS 15.1 можно указать, что на данном интерфейсе необходимо всегда обрабатывать ARP-пакеты в первую очередь, что может значительно сократить процент потери ARP-данных. На общую загрузку это, как понятно, повлияет мало, а вот пользы может принести много. Ведь ARP-пакеты передаются без механизма подтверждения доставки и терять их не очень хорошо.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Данный механизм включается на L3-интерфейсах, командой:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->arp packet-priority enable&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Выключается, как понятно, &lt;!-- raw HTML omitted -->no arp packet-priority enable&lt;!-- raw HTML omitted -->. В Windows аналогичной процедуры нет.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ARP и NLB&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Чтобы ARP дружил с NLB, он должен обрабатывать ситуацию, когда придёт ARP-запрос с не-юникастового адреса. То есть, смотрите ситуацию. Допустим, есть NLB, который работает в мультикастовом режиме. Два хоста, соответственно, прикидываются одним IP-адресом, отвечая на ARP-запросы про этот адрес общим мультикастовым MAC’ом, и потом договариваясь друг меж другом, что делать с пришедшим трафиком. Вот чтобы эта схема работала, надо, чтобы когда этот “общий виртуальный узел”, который обладает виртуальным IP и мультикастовым MAC, решил узнать через ARP чей-то MAC, ему вообще ответили. Потому что есть тонкость – у мультикастового MAC есть характерный вид, по которому понятно, что он мультикастовый. А не-юникастовые source MAC в общем-то не являются нормальной ситуацией и нуждаются в особой обработке. Соответственно, для этого надо явно включить обработку ситуации “к нам пришёл ARP-запрос от товарища, у которого обратный MAC-адрес не-юникастовый”. Делается это путём установки параметра:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\EnableBcastArpReply&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->в единицу. Если она будет в нуле – в ряде ситуаций поимеете проблемы с NLB.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ARP и SNAP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->По умолчанию, ARP вкладывается в 802.3 кадр простым, Ethernet II способом. Это можно поменять в случае, если необходима поддержка SNAP-механизма, который, как известно, нужен для мультиплексирования потоков данных на канальном уровне. Напомню, что по RFC 1042 данные IP и ARP всегда передаются поверх 802.x сетей используя связку LLC+SNAP, за исключением обычного Ethernet (802.3), где они вкладываются напрямую (см. RFC 894).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Примечание: Если не известно, то надо задуматься об изучении курса ICND1, потому что детальное рассмотрение “что такое SNAP, зачем, почему, когда, с кем” не входит в спектр задач по изучению ARP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Для этой задачи есть ключ:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\ArpUseEtherSNAP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->По умолчанию он в нуле, установив в единицу Вы получите ситуацию, что ARP-запросы будут вкладываться в SNAP (притом в LLC+SNAP, что увеличит суммарный размер кадра на 3+5=8 байт).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ARP и NUD&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->NUD – это Neighbor Unreachability Detection. По умолчанию включается на интерфейсах, которые смотрят в broadcast-среды, и выключается на других. Помогает узнать о том, что сосед (что обычный, что шлюз) перешёл в нефункциональное состояние до времени, пока его запись в ARP-кэше стала Stale. Механизм полезный, поэтому его рекомендуется включать в явном виде. Делается это командой:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netsh int ipv4 set int &lt;!-- raw HTML omitted -->имя интерфейса&lt;!-- raw HTML omitted --> nud=enabled&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ARP и DAD&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->DAD – это Duplicate Address Detection. То самое, что не даёт взять себе адрес, который уже есть у кого-то. Проводится путём отправки Gratuious ARP, про который чуть ниже. Тюнингуется достаточно просто, двумя параметрами:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netsh int ipv4 set int &lt;!-- raw HTML omitted -->имя интерфейса&lt;!-- raw HTML omitted --> retransmittime=&lt;!-- raw HTML omitted -->миллисекунды&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netsh int ipv4 set int &lt;!-- raw HTML omitted -->имя интерфейса&lt;!-- raw HTML omitted --> dadtransmits=&lt;!-- raw HTML omitted -->попытки&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->По умолчанию &lt;!-- raw HTML omitted -->retransmittime&lt;!-- raw HTML omitted --> – т.е. время между попытками обнаружить соседа, который уже занял адрес – 1 секунда, количество попыток &lt;!-- raw HTML omitted -->dadtransmits&lt;!-- raw HTML omitted --> – 3. Можете сократить их, если уверены, что все соседи отвечают достаточно быстро, это уменьшит время инициализации интерфейса – система не будет ждать “вдруг кто проснётся и скажет, что адрес уже занят”.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ARP и WOL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Функция Wake-On-Lan, думается, хорошо Вам известна. Она нужна, чтобы узел “проснулся” в определённый момент – когда увидит на сетевом интерфейсе соответствующие неким условиям данные. Обычно это данные, напрямую идущие на данный узел, притом содержащие некую последовательность – Magic Pattern. Так вот, можно заранее указать условие – будет ли данный Magic Pattern искаться вообще во всех сетевых данных, которые попадут на нужный узел, либо только не некоторых. В частности, так как статья про ARP, есть настройка, позволяющая установить для интерфейса условие – анализировать ли на предмет наличия Magic Pattern’а пакеты протоколов ARP (для IPv4) и ND (для IPv6). Включается следующим образом:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netsh int ipv4 set int &lt;!-- raw HTML omitted -->имя интерфейса&lt;!-- raw HTML omitted --> forcearpndwolpattern=enabled&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как выключается, надеюсь, понятно. Рекомендуется к выключению на узлах, у которых нет задачи просыпаться по WOL, т.к. ускоряет обработку путём раннего отбрасывания механизмом поиска Magic Pattern указанных пакетов.&lt;!-- raw HTML omitted -->Теперь про RARP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол RARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->RARP – это как ARP, только наоборот. Логично. По сути, RARP – это очень сильно простой сервис по динамическому конфигурированию узлов. Он ведь отрабатывает задачу, обратную ARP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ARP: Я знаю искомый L3-адрес, дайте мне соответствующий ему L2-адрес.&lt;!-- raw HTML omitted -->RARP: Я знаю искомый L2-адрес, дайте мне соответствующий ему L3-адрес.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Примечание: Обратите внимание, для работы ARP выделенный сервер не нужен, а для RARP – нужен.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->У RARP-сервера есть табличка соответствий MAC и IP-адресов, из которой он берёт указанную информацию и отправляет её. Различия на технологическом уровне будут следующими: RARP-пакеты будут иметь код вложения &lt;!-- raw HTML omitted -->0x8035&lt;!-- raw HTML omitted -->, плюс коды операций у них будут 3 для RARP-запроса и 4 для RARP-ответа.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Примечание: Если код вложения будет от RARP, а коды – 1 или 2 (т.е. как у обычного ARP), то RARP-сервер отдаст данный пакет на обработку ARP-стеку.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Вообще, RARP сейчас практически не используется, но если хотите почитать – есть RFC 903.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Примечание: А если хотите почитать, и чтобы накрыло – почитайте про Dynamic RARP, это RFC 1931.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Реализация RARP-сервера в Windows&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Её нет. Если хочется стороннее решение, то можно &lt;!-- raw HTML omitted -->скачать RARP windows server быстро бесплатно без sms&lt;!-- raw HTML omitted -->.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Реализация RARP-сервера на оборудовании Cisco&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Она есть. Конфигурируется в несколько этапов. По порядку:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Шаг первый: Добавляем запись для потенциального RARP-клиента (т.е. того, кто хочет получить IP-адрес). В глобальной конфигурации:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config)#arp &lt;!-- raw HTML omitted -->ip-адрес&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->mac-адрес-клиента&lt;!-- raw HTML omitted --> arpa&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Шаг второй: Разрешаем на интерфейсе, в качестве параметра – тот адрес на интерфейсе, от которого отправляем RARP-ответы.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config-if)#ip rarp-server &lt;!-- raw HTML omitted -->ip-адрес&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол InARP (Inverse ARP)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->InARP – специальная модификация ARP для не-broadcast сетей (например, Frame Relay или ATM). Суть проста – в сетях, где нет широковещания, обычный ARP работать не сможет, а задачи, которые им решаются, никуда не пропадают. Соответственно, нужна схема работы. Она будет достаточно интересна и проста. Узел, который поддерживает InARP, будет самостоятельно с указанной периодичностью отправлять в субинтерфейсы, поддерживающие InARP (например, в FR’овские), InARP-сообщения, в которых будет указано что-то вида “привет, я от узла с сетевым адресом таким-то”. Соответственно, принимающая сторона, получая такое сообщение из-под субинтерфейса с DLCI=xxx, будет записывать у себя в таблицу – “За DLCI xxx живёт товарищ с IP yyy”. В общем-то и всё.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Другие отличия будут состоять в использовании других кодов операций – 8 для запроса InARP, 9 для ответа. Ну и в механизме вложения – понятное дело, в Q.922 вкладываться – это не в 802.3&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол UnARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Предлагался в RFC 1868. Суть проста – сам формат пакета ARP не менялся, добавлялся лишь новый тип сообщения – сообщение вида “Я ушёл из сети”. Т.е. задачей дополнения UNARP являлось то, что узлы, которые отключаются, могут послать сообщение “Стирайте меня все из ARP-кэшей”, чтобы остальные не ждали время окончания кэширования записей. К сожалению, не поддерживается (основная причина – небезопасен, т.к. такое сообщение легко подделать).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол SLARP (Serial Line ARP)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Специальный субпротокол, работающий внутри цисковского варианта HDLC (который обычно cHDLC). Используемый код вложения – &lt;!-- raw HTML omitted -->0x8035&lt;!-- raw HTML omitted -->. Протокол простой, но интересный тем, что может делать две штуки – проверять состояние канала, периодически передавая кадры, и назначать IPv4-адреса в случае, если с одной стороны serial link адрес IPv4 есть, а с другой – нет. Адрес назначается по логике “Если у меня последний бит адреса 1, предложить такой же, но с нулём, и наоборот”. Маска предлагается такая же, как у себя.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Формат кадра будет такой:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Адрес (один байт) – стандартный адрес вида b1111111 из xHDLC/PPP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Контроль (один байт) – то же самое, опять LLC3, т.е. b00000011.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Код протокола вложения (два байта) – личный номер SLARP, &lt;!-- raw HTML omitted -->0x8035&lt;!-- raw HTML omitted -->.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Код операции (один байт) – вариант или Address request(0x00), или address reply (0x01), или Keep-alive (0x02).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->IPv4-адрес и маска (два раза по 4 байта) – предлагаемый партнёру по serial link адрес.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Резерв (один байт) – вечно 0xFF.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->FCS в варианте CRC-16 (два байта)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Флаг (один байт) – стандартный флаг xHDLC вида b0111110.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол DirectedARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол описан в RFC 1433. Сейчас как отдельный протокол не используется, хотя многие мысли, высказанные в этом RFC, достаточно дельные и повлияли, например, на формирование современного IPv6.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Безопасность ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->В общем-то, в ARP нет никаких встроенных средств безопасности. Это очень простой служебный протокол, поэтому о какой-то отдельной защите его говорить трудно. Можно высказать лишь общие мысли – например, что в случае малого количества хостов проще ввести все их IP-MAC соответствия как статические – в этом случае ARP они передавать перестанут (в кэше-то записи про соседей будут всё время), а если кто-то злонамеренный специально передаст поддельный ARP-ответ, то никакого влияния он не окажет – динамически полученный ARP-ответ не перезапишет собой статическую запись.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Есть ряд дополнительных механизмов (которых достаточно много), которые могут помочь в этом вопросе. Например, на оборудовании Cisco есть команда:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->arp authorized&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->которая, в случае включения на интерфейсе, отключит динамические записи в кэш ARP. Т.е. интерфейс перестанет слушать ARP-ответы от неизвестных клиентов и дополнять ими кэш ARP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Для ряда моделей оборудования (например, на старших линейках маршрутизаторов – это 7600) можно задать в режиме глобальной конфигурации максимальный размер ARP-кэша для устройства (по умолчанию он не ограничен и составляет 256.000 записей):&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ip arp entry learn &lt;!-- raw HTML omitted -->количество&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Есть, в общем-то, множество доп.механизмов безопасности ARP – тот же DAI или ARP ACL, про которые, возможно, я тоже допишу сюда.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Механизм Proxy ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Суть механизма Proxy ARP, детально обозначенного в RFC 1027, проста – дать возможность узлу, который в силу каких-то причин (например, у него не указан шлюз по умолчанию) не может понять, куда маршрутизировать трафик для других сетей, всё же сделать это. Притом сделать просто – используя то, что в сегменте с этим узлом присутствует добрый узел, на котором включен Proxy ARP, и который, увидев что узел пытается через ARP-запрос найти получателя трафика, “прикинется” этим получателем и ответит на запрос.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Т.е. вот есть маршрутизатор, на котором включен Proxy ARP. Он получает ARP-запрос на разрешение адреса узла, который находится в другом сегменте относительно спрашивающего и помогает – просто отвечает ему от имени этого узла. Соответственно, этот роутер и будет передавать трафик между данными узлами, а отправитель будет думать, что отправляет трафик напрямую.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Данный механизм включен “по умолчанию” на большинстве систем и нуждается в отключении – т.е. описанная ситуация, в общем-то, по производственной необходимости возникает довольно-таки редко.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Пример: Например, у хоста A адрес 10.1.1.1/24, а у хоста B – 10.1.1.2/16. Технологически они в разных сетях, и между ними даже есть роутер – у него в сторону хоста A смотрит интерфейс 10.1.1.254/24, в сторону хоста B – 10.1.255.254/16. Но вот проблема в том, что хост A не понимает, что хост B – в другой сети, а думает, что B – его сосед. И пытается найти его, отправляя ARP-запрос. Вот в этом случае если роутер будет поддерживать Proxy ARP, то всё будет хорошо – связь между A и B будет.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как включить Proxy ARP на оборудовании Cisco&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Зайдите на нужный интерфейс и введите там команду:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->(config-if)#ip proxy-arp&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Выключить глобально – &lt;!-- raw HTML omitted -->(config)#ip arp proxy disable&lt;!-- raw HTML omitted -->.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как включить Proxy ARP в Windows&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->В случае, когда у Вас используется RRaS, proxy ARP работает автоматически.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Что такое и как работает Gratuitous ARP&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Это страшное слово переводится как “самопроизвольный” ARP. Суть события в следующем. Любой узел, который инициирует новый интерфейс, на котором есть поддержка ARP, должен при завершении процесса конфигурирования IP-адреса (статически ли, по DHCP, через APIPA’у – без разницы) уведомить соседей о том, что он появился. Делается это при помощи отправки одиночного ARP Reply, в котором указывается, что логично, связка “мой MAC – мой новый IP”. Т.е. выглядит этот ARP-ответ несколько странно с точки зрения классической схемы работы ARP – узел рассылает на броадкастовый MAC и свой IP информацию о своём настоящем MAC и своём же IP. Т.е. совпадают SRC IP и DST IP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Примечание: По сути, этот механизм – это “форсированное” обновление ARP-кэша соседей новой информацией – “теперь я по этому MAC-адресу”. Заодно, именно благодаря этому механизму, происходит обнаружение дублирующихся IP-адресов – тот, кто пытается присвоить себе IP-адрес, рассылая это уведомление “засветится”.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Но, в общем-то, мы и договорились, что это – исключительная и разовая ситуация. Казалось бы, в чём проблема-то?&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Проблема в том, что когда такое происходит на сервере удалённого доступа, к которому подключено несколько клиентов (более 1, по сути), то этот сервер при подключении каждого своего клиента получает от него данный стартовый запрос ARP и ретранслирует запрос далее, выступая, по сути, прокси. В результате, допустим, порт коммутатора, в который включен этот сервер, впадает в тягостные размышления о здоровье сервера, который постоянно сообщает всей сети о том, что за его MAC-адресом интерфейса (того, который воткнут в коммутатор) очень много IP-адресов, и все они разные. И каждый раз, когда клиент будет подключаться (например, VPN-канал переподключит, или другим способом вызовет переход через NCP-фазу PPP), такой ARP-ответ будет создаваться и отправляться серверу, а тот будет отдавать его дальше – чтобы уведомить сеть, что трафик на такой-то IP-адрес надо отправлять на его, сервера, MAC, а дальше он уж сам разберется.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Соответственно, в ряде ситуаций (например, много клиентов, краткие сессии) такой механизм надо отключать. Зачастую проще привязать статически целую пачку ARP-соответствий (например, когда на сервере удалённого доступа выделен пул в 20 адресов, и абоненты подключаются, делают какую-то краткую операцию и отключаются), чем постоянно форвардить в сеть эти ARP Reply.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Примечание: На самом деле, делать это надо с умом, как и всё остальное. Есть ситуации, когда gratuitous ARP является штатным и нужным. Например, у Вас сделан HSRP-балансировщик. Активный узел упал – второй становится активным. И в этот момент он тоже “просто так, внезапно” отправит gratuitous ARP – чтобы сразу уведомить всю сеть, что теперь у виртуального IP новый MAC, а не ждать, пока у всех узлов кончится тайм-аут кэша.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как настроить Gratuitous ARP на оборудовании Cisco&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Включить:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->router(config)#ip gratuitous-arps&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Если добавить в конце команды слово non-local, то будет обрабатываться вышеописанная ситуация с PPP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Отключить приём всех gratuitous ARP’ов:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->router(config)#ip arp gratuitous none&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Включить приём только gratuitous ARP’ов, source которых из connected-сетей:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->router(config)#ip arp gratuitous local&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как настроить Gratuitous ARP на Windows Server&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Для указанного сценария с RRaS – никак. Ваш RRaS-сервер не будет передавать стартовый ARP-запрос, полученый от PPP-клиента, в другие сети, поэтому ситуация, описанная выше, просто не возникнет.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Управлять же Gratuitous ARP со стороны узла вполне можно. Для этого есть ключ реестра:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->HKLM\System\CurrentControlSet\Services\TcpIp\Parameters&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->а в нём – параметр &lt;!-- raw HTML omitted -->ArpRetryCount&lt;!-- raw HTML omitted --> типа DWORD32. Если поставить этот параметр в нуль, то механизм будет выключен. По умолчанию Windows-хосты делают Gratuitous ARP три раза – сразу после инициализации адреса, потом через 1/2 секунды, потом через ещё 1/10 секунды. Можете поставить единицу, если уверены в качестве работы сети и её не-критичной загруженности на момент выхода ARP Reply – “сэкономите трафик”.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Примечание: Считаются фактически отправленные ARP, а не попытки. Т.е. если среда была недоступна, то все равно отправят три, просто чуть позже.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Примечание: Если поставить нуль, то вдобавок отвалится функция обнаружения конфликтов DHCP, но это будет в другой истории.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Cisco ARP Optimization Feature – что это?&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Это достаточно полезное архитектурное изменение, появившееся в релизах IOS 12.0 – 12.2 и закрепившееся в более поздних. Идея проста. Устройство хранит информацию о связках IP-MAC-интерфейс в отдельной таблице. Эта таблица организована для быстрого поиска информации по известному IP-адресу. Соответственно, этот механизм эффективен, когда надо обработать единичный пакет. В ситуации же, когда интерфейс попеременно переходит из состояния включения в выключенное и наоборот (interface flapping), надо сразу же обработать в этой таблице все ARP-записи, относящиеся ко всем IP и MAC, находящимся за данным интерфейсом. Вот фича Cisco ARP Optimization как раз умеет делать эту операцию – например, очистить все записи за соответствующий интерфейс. Выигрыш – резко сниженная загрузка CPU, которому надо обработать событие “падение интерфейса”.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как настроить Cisco ARP Optimization Feature&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Никак – это просто другая структура хранения данных ARP в оперативной памяти, используемая в современных версиях IOS.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Заключение&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Если я вспомню ещё что-то, или меня наведут на мысль, то обязательно напишу сюда в качестве дополнения к статье.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Инструкции по созданию лабораторного окружения с Windows Server 2012 Hyper-V</title><link>https://bubnovd.net/blogger/%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%86%D0%B8%D0%B8-%D0%BF%D0%BE-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D1%8E-%D0%BB%D0%B0%D0%B1%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F-%D1%81-windows-server-2012-hyper-v/</link><pubDate>Sun, 25 Dec 2016 21:30:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%86%D0%B8%D0%B8-%D0%BF%D0%BE-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D1%8E-%D0%BB%D0%B0%D0%B1%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F-%D1%81-windows-server-2012-hyper-v/</guid><description>http://social.technet.microsoft.com/wiki/ru-ru/contents/articles/19114.windows-server-2012-hyper-v.aspx</description><content>&lt;p>&lt;!-- raw HTML omitted -->&lt;a href="http://social.technet.microsoft.com/wiki/ru-ru/contents/articles/19114.windows-server-2012-hyper-v.aspx">http://social.technet.microsoft.com/wiki/ru-ru/contents/articles/19114.windows-server-2012-hyper-v.aspx&lt;/a>&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Материалы по Windows Server 2012R2, System Center и гибридному облаку</title><link>https://bubnovd.net/blogger/%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%8B-%D0%BF%D0%BE-windows-server-2012r2-system-center-%D0%B8-%D0%B3%D0%B8%D0%B1%D1%80%D0%B8%D0%B4%D0%BD%D0%BE%D0%BC%D1%83-%D0%BE%D0%B1%D0%BB%D0%B0%D0%BA%D1%83/</link><pubDate>Fri, 29 Aug 2014 02:20:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%8B-%D0%BF%D0%BE-windows-server-2012r2-system-center-%D0%B8-%D0%B3%D0%B8%D0%B1%D1%80%D0%B8%D0%B4%D0%BD%D0%BE%D0%BC%D1%83-%D0%BE%D0%B1%D0%BB%D0%B0%D0%BA%D1%83/</guid><description>Просто пара ссылок.Дайджест материалов по System Center и гибридному облакуДайджест материалов по Windows Server 2012/R2 </description><content>&lt;p>Просто пара ссылок.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Дайджест материалов по System Center и гибридному облаку&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Дайджест материалов по Windows Server 2012/R2&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>MiTM атака на RDP с SSL</title><link>https://bubnovd.net/blogger/mitm-%D0%B0%D1%82%D0%B0%D0%BA%D0%B0-%D0%BD%D0%B0-rdp-%D1%81-ssl/</link><pubDate>Wed, 05 Mar 2014 18:44:00 +0000</pubDate><guid>https://bubnovd.net/blogger/mitm-%D0%B0%D1%82%D0%B0%D0%BA%D0%B0-%D0%BD%D0%B0-rdp-%D1%81-ssl/</guid><description>https://labs.portcullis.co.uk/blog/ssl-man-in-the-middle-attacks-on-rdp/Копипаста:This post seeks to demonstrate why users learning to ignore those certificate warnings for SSL-based RDP connection could leave them open to Man-in-the-middle (MiTM) attacks. The MiTM attack demonstrated displays keystrokes sent during an RDP session. We conclude with some advice on how to avoid being the victim of such an attack. Types of RDP connectionsBefore we start, let’s first clarify which of the various RDP connection types this post is about.</description><content>&lt;p>&lt;a href="https://labs.portcullis.co.uk/blog/ssl-man-in-the-middle-attacks-on-rdp/">https://labs.portcullis.co.uk/blog/ssl-man-in-the-middle-attacks-on-rdp/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Копипаста:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->This post seeks to demonstrate why users learning to ignore those certificate warnings for SSL-based RDP connection could leave them open to Man-in-the-middle (MiTM) attacks. The MiTM attack demonstrated displays keystrokes sent during an RDP session. We conclude with some advice on how to avoid being the victim of such an attack.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->Types of RDP connections&lt;!-- raw HTML omitted -->Before we start, let’s first clarify which of the various RDP connection types this post is about. There are 3 types of connection:&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->RDP Security Layer&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->SSL (TLS 1.0)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->CredSSP (SSL with NLA)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->It’s the middle one we’ll demonstrate an attack on in this post. On the Terminal Server, SSL is configured like this (with any NLA checkboxes unticked):&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->RDP configuration used&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Some connections may also be vulnerable if the server is set to “Negotiate” its Security Layer to – as that could result in SSL being used.&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->SSL certificate warning&lt;!-- raw HTML omitted -->If users are used to dismissing a warnings like this one each time they connect, then this post is relevant to them:&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->SSL warning that should not be routinely ignored&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Attack overview&lt;!-- raw HTML omitted -->At a high level, the attack will proceed in a similar way to any SSL MiTM attack:&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Have the victim connect to a PoC tool (rdp-ssl-mitm.py) on our system instead of the RDP server they’re trying to reach&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Using the RDP protocol, our tool will negotiate the use of SSL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->At the point the connection is upgraded to SSL, our tool will negotiate an SSL connection with the RDP client using its own (untrusted) SSL certificate. This will give our tool access to data sent by the RDP client in cleartext&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Our tool also needs to create an SSL connection with the legitimate RDP server down which it will send data from the RDP client&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->The only complication to this attack is that our tool has to talk the RDP protocol briefly before creating the required SSL connections.&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->1. Having the victim connect to us&lt;!-- raw HTML omitted -->In a real attack, we’d need to have the RDP client connect to our system instead of the target server. This could be achieved using ARP spoofing, DNS spoofing or some other method. Rather than cloud the demonstration with such details, we’ll assume this is step is possible and just type the IP address of the attacker system into the victim RDP client.&lt;!-- raw HTML omitted --> On our attacker system (192.168.190.170), we start our PoC tool. We tell it forward connections to the legitimate RDP server 192.168.2.96:&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->$ ./rdp-ssl-mitm.py -r 192.168.2.96:3389&lt;!-- raw HTML omitted -->[+] Listening for connections on 0.0.0.0:3389&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->And we simply enter the IP address of the attacker system into the RDP client (the client connects from 192.168.190.1):&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->We enter the attacker IP address to avoid the complexity of ARP spoofing&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->2. Talk RDP to the client to negotiate the use of SSL&lt;!-- raw HTML omitted -->The negotiation of SSL is quite short within the RDP protocol:&lt;!-- raw HTML omitted --> Message #1: Client &amp;gt; MiTM &amp;gt; Server&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->03 00 00 13 0e e0 00 00 00 00 00 01 00 08 00 &lt;em>03&lt;/em>&lt;!-- raw HTML omitted -->00 00 00&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->This message is fairly static and our tool just passes it through to the server unaltered. The &lt;em>03&lt;/em> means that the client supports RDP Security Layer, SSL and CredSSP.&lt;!-- raw HTML omitted --> Message #2: Server &amp;gt; MiTM &amp;gt; Client&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->03 00 00 13 0e d0 00 00 12 34 00 02 00 08 00 &lt;em>01&lt;/em>&lt;!-- raw HTML omitted -->00 00 00&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->In the next message the server chooses the protocol to use. The &lt;em>01&lt;/em> in this case means the the server has chosen SSL (not CredSSP which would be &lt;em>02&lt;/em>). Again, we pass this message back to the client unaltered.&lt;!-- raw HTML omitted --> Note that if the server were to select CredSSP (&lt;em>02&lt;/em>), then the demonstration would fail. We’re attacking SSL, not CredSSP.&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->3. Create SSL connection with RDP client&lt;!-- raw HTML omitted -->Message #3: Client &amp;gt; MiTM&lt;!-- raw HTML omitted --> The 3rd message is the start of an SSL connection. Here is the SSL Client Hello message beginning &lt;em>16 03 01&lt;/em>… (03 01 being the version of SSL used: SSL 3.1 AKA TLS 1.0).&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;em>16 03 01&lt;/em> 00 5a 01 00 00 56 03 01 52 21 ac be 63&lt;!-- raw HTML omitted -->20 ce de 4b a5 90 18 f0 66 97 ee 9d 54 14 e3 1c&lt;!-- raw HTML omitted -->&amp;hellip; snip &amp;hellip;&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Our tool does not forward this data directly to the server. Instead it responds with and SS Server Hello message and proceeds to complete the SSL connection with the client.&lt;!-- raw HTML omitted --> The SSL certificate we present to the RDP client is issued to fred and this is displayed in the mstsc SSL warning shown to the user:&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->The certificate presented by our PoC tool causes this security warning&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->The details of the SSL certificate differ to those the user would normally see – if the user were to check. To refine the attack we could make the certificate details match more closely, but we’d never get the signature to be the same as the normal certificate, so there’d always be a difference.&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->4. Create SSL connection with RDP server&lt;!-- raw HTML omitted -->Simultaneously, our tool also sends and SSL Client Hello to the RDP server and creates a second SSL connection.&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->Displaying key strokes&lt;!-- raw HTML omitted -->Our tool is now in a position to display the cleartext messages about keystrokes (for example) sent by the RDP client. It is relatively easy to determine what sort of message is sent when a key is pressed. The following two 4-byte messages are sent when the ‘p’ key is pressed:&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->44 04 00 19&lt;!-- raw HTML omitted -->44 04 01 19&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->The 3rd byte is the direction of key (00 means key-down, 01 means key-up).  The 4th byte is the key scan code.  If we &lt;!-- raw HTML omitted -->look up&lt;!-- raw HTML omitted --> 0×19 we find it corresponds to the p key.&lt;!-- raw HTML omitted --> In the general case, the scan-code to character mapping depends which keyboard you’re using. In the PoC tool I implemented the mapping for for QWERTY keyboards, so if you have a UK/US keyboard, it should translate the majority of scan-codes to the correct characters. Note that we don’t get know whether characters are uppercase or lowercase. We’d have to manually track the status of CAPS Lock and SHIFT keys.&lt;!-- raw HTML omitted --> Without getting too bogged down in the details, here’s some sample output from the PoC tool that shows keystrokes being logged – in particular an administrator logging in with username Administrator, password Password:&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->$ ./rdp-ssl-mitm.py -r 192.168.2.96:3389 &lt;!-- raw HTML omitted -->[+] Listening for connections on 0.0.0.0:3389&lt;!-- raw HTML omitted -->[+] Incoming connection from 192.168.190.1:60370&lt;!-- raw HTML omitted -->[+] New outgoing request to 192.168.2.96:3389 (SSL: 0)&lt;!-- raw HTML omitted -->[+] Connected&lt;!-- raw HTML omitted -->[+] Detected incoming SSL connection. Turning self into SSL socket&lt;!-- raw HTML omitted -->[+] Incoming connection from 192.168.190.1:60374&lt;!-- raw HTML omitted -->[+] New outgoing request to 192.168.2.96:3389 (SSL: 0)&lt;!-- raw HTML omitted -->[+] Connected&lt;!-- raw HTML omitted -->[+] Detected incoming SSL connection. Turning self into SSL socket&lt;!-- raw HTML omitted -->&amp;lt;LShift-down&amp;gt;A&amp;lt;LShift-up&amp;gt;DMINISTRATOR&amp;lt;Tab&amp;gt;&amp;lt;LShift-down&amp;gt;P&amp;lt;LShift-up&amp;gt;ASSWORD&amp;lt;Enter&amp;gt;&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Conclusions&lt;!-- raw HTML omitted -->Learning to ignore SSL certificate warnings is as bad for RDP connection as it is for HTTPS websites. The results are similar: users quickly become vulnerable to Man-in-the-middle attacks. Such attacks can harvest usernames, passwords, keystrokes and other sensitive data.&lt;!-- raw HTML omitted --> Using SSL certificates that are signed by a Certificate Authority the RDP client trusts will result in no warning under normal operation, so is highly recommended.&lt;!-- raw HTML omitted --> This attack doesn’t work if the server mandates NLA, so using NLA is also highly recommended.&lt;!-- raw HTML omitted --> It’s important to note that this isn’t a vulnerability in the RDP Client or Server software.  Nor is this a  new discovery.  It’s a weakness in way RDP is sometimes used which stems from users ignoring security warnings.  At a technical level, this is a fairly vanilla SSL MiTM attack.&lt;!-- raw HTML omitted --> It might be interesting to extend this work by recording screen captures; or by injecting images of login boxes to encourage users to part of with other credentials. There would also be an opportunity to attack any drives that the RDP client has mapped for drive redirection – see &lt;!-- raw HTML omitted -->Attacking the RDP Clients&lt;!-- raw HTML omitted --> for inspiration. These would be pretty demanding coding challenges, though!&lt;/p></content></item><item><title>Сила командной строки. Вводная.</title><link>https://bubnovd.net/blogger/%D1%81%D0%B8%D0%BB%D0%B0-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BD%D0%BE%D0%B9-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8.-%D0%B2%D0%B2%D0%BE%D0%B4%D0%BD%D0%B0%D1%8F./</link><pubDate>Tue, 09 Jul 2013 07:31:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D1%81%D0%B8%D0%BB%D0%B0-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BD%D0%BE%D0%B9-%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8.-%D0%B2%D0%B2%D0%BE%D0%B4%D0%BD%D0%B0%D1%8F./</guid><description>Тру-админы знают, что все операции с компьютером можно произвести так, чтобы пользователь даже не знал о том, что с его компьютером что-то происходило. И даже иметь домен не обязательно. Для самых маленьких в этой статье я опишу наиболее часто используемые мной утилиты командной строки, а в будущем, возможно, буду обновлять этот пост.Для юных админов сразу хочется сделать мотивационный пинок: не бойтесь cmd! Это ваш лучший друг и соратник. Понимаю, что при первом запуске cmd вам очень страшно и бегут какие-то непонятные буквоцифры и Морфеуса нет рядом.</description><content>&lt;p>Тру-админы знают, что все операции с компьютером можно произвести так, чтобы пользователь даже не знал о том, что с его компьютером что-то происходило. И даже иметь домен не обязательно. Для самых маленьких в этой статье я опишу наиболее часто используемые мной &lt;!-- raw HTML omitted -->утилиты командной строки&lt;!-- raw HTML omitted -->, а в будущем, возможно, буду обновлять этот пост.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Для юных админов сразу хочется сделать мотивационный пинок: не бойтесь cmd! Это ваш лучший друг и соратник. Понимаю, что при первом запуске cmd вам очень страшно и бегут какие-то непонятные буквоцифры и Морфеуса нет рядом. К этому быстро привыкаешь, и потом уже паникуешь, когда cmd не свернут в панель задач. А чтобы прокачать скилы и убить страх - ставьте Linux без графической оболочки! А ещё можно запустить tracert ya.ru и с умным видом говорить начальнику, что тестируешь производительность сетевой подсистемы южного моста виртуального сервера баз данных, запущенного в облаке.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Интерпретатор командной строки cmd&lt;!-- raw HTML omitted --> запускается из меню Стандартные или набором волшебных трёх букв (угадайте каких!) в строке Выполнить. Откроется черное окошко с белым приглашением. Вся это красотень настраивается как душе угодно, но сейчас не об этом.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Перейдем к командам. Про ping писать не буду - и так все знают. Скажу лишь, что при добавлении к команде символов /? можно узнать много нового.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Команды для работы с сетью&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ipconfig /all - позволяет узнать сетевые настройки: MAC сетевушки, IP-адрес, адреса шлюза и DNS серверов.&lt;!-- raw HTML omitted -->ipconfig /flushdns - очищает кэш DNS. При подозрениях на проблемы в работе DNS, первым делом запускайте эту команду.&lt;!-- raw HTML omitted -->ipconfig /renew - обновляет настройки сетевого адаптера с DHCP-сервера.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netstat - отображение статистики TCP/IP и текущих сетевых подключений. Имеет множество параметров.&lt;!-- raw HTML omitted -->netstat -a - отображает все подключения и ожидающие порты.&lt;!-- raw HTML omitted -->netstat -b - отображает процесс, ответственный за открытый порт&lt;!-- raw HTML omitted -->netstat -p TCP - выводит данные только по TCP. То же самое есть по UDP и TCPv6, UDPv6.&lt;!-- raw HTML omitted -->netstat -r - выводит таблицу маршрутизации.&lt;!-- raw HTML omitted -->Я чаще всего пишу так netstat -an | findstr :80. Тут мы получаем список всех соединений с/на порт 80. И если они есть, следующим запросом можно уже поискать какая программа пытается соединиться netstat -anb.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->arp -a - отображение таблицы преобразования IP-адреса в MAC. Полезно, когда нужно узнать MAC удаленного компьютера по его IP или наоборот.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->nslookup - проверяет соответствие IP-адреса DNS-имени. Используется при определении неисправностей системы DNS.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Ещё существует целый отдельный шелл для работы с сетью. Он так и зовется netsh (net shell). Его возможности огромны. Приведу лишь наиболее используемое.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netsh winsock reset - сброс сокета. Т.е. мягкий сброс всех сетевых настроек. О более жестком сбросе &lt;!-- raw HTML omitted -->здесь&lt;!-- raw HTML omitted -->.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->netsh позволяет детально настроить сетевую конфигурацию или посмотреть определенные значения, даже недоступные в графическом интерфейсе. За более подробной информацией предлагаю обратиться к встроенной справке (netsh /?).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Семейство утилит net позволяет подключать/отключать сетевые диски (net use), расшаривать ресурсы (net share), просматривать расшаренные ресурсы в сети (net view). Последняя команда помогает при непонятных проблемах с подключением к общим папкам - можно увидеть конкретную ошибку, которую не показывает GUI. Утилиты net позволяют работать не только с сетью, несмотря на название. Можно создать локального пользователя (net user username /add), добавить его в группу (net localgroup groupname username /add), запустить (net start servicename) или остановить (net stop servicename) службу. Предлагаю поближе познакомиться с этими утилитами и они окажут вам хорошую помощь. Ну а если будет время и желание, то я сам постараюсь подробнее расписать о них в следующих постах.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Управление удаленным компьютером&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Многие начинающие админы считают, что терминал это прошлый век и недооценивают его возможности, так как все нужные операции можно произвести из графического интерфейса. А знаете ли вы, что все эти операции можно произвести и на удаленном компьютере, причем абсолютно незаметно для пользователя и без применения средств удаленного администрирования вроде RAdmin и TeamViewer? Ведь зачем отрывать дорогого бухгалтера от расчета вашей зарплаты только для того, чтобы посмотреть запущена ли на его машина служба общего реестра? Можно ведь просто набрать в командной строке sc \buhpc query remoteregistry.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Вообще утилита sc довольно мощная - с её помощью можно детально настраивать управление службами. И не только на удаленном компьютере.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Для &lt;!-- raw HTML omitted -->управления удаленной машиной&lt;!-- raw HTML omitted --> я использую утилиты Sysinternals великого Марка Руссиновича. Чаще всего это PsExec. Она позволяет запустить командную строку или любой другой процесс на удаленной машине (psexec \remotepc cmd). А дальше делать с ней всё, что захочется. Для этого нам и нужна сила cmd.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Управление принтерами - prnjobs. Сам ещё не юзал, но обязательно разберусь и отпишусь.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Ну вот и назрела тема для нескольких следующих постов. Это sc, prn*, net, netsh, wmic и Sysinternals. Ждём продолжения!&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->1&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->2&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Нет доступа к папке для группы</title><link>https://bubnovd.net/blogger/%D0%BD%D0%B5%D1%82-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%BA-%D0%BF%D0%B0%D0%BF%D0%BA%D0%B5-%D0%B4%D0%BB%D1%8F-%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D1%8B/</link><pubDate>Tue, 18 Jun 2013 03:59:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%BD%D0%B5%D1%82-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%BA-%D0%BF%D0%B0%D0%BF%D0%BA%D0%B5-%D0%B4%D0%BB%D1%8F-%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D1%8B/</guid><description>Столкнулся с такой проблемой. Есть папка \server\docs\marketing. Нужно &amp;ldquo;правильно&amp;rdquo; дать доступ к этой общей папке.По уму создал группу ACL_Marketing_Share_RW, член этой группы - группа Marketing, член этой группы в свою очередь - user. Группе ACL_Marketing_share_RW дал доступ на запись к указанной папке. Пользователя user по сети не пускает в эту папку с разными ошибками - то &amp;ldquo;Расположение недоступно&amp;rdquo;, то &amp;ldquo;Нет доступа&amp;rdquo; - в общем сдохни МС, никсы рулят =). Если давать доступ к папке конкретно юзеру - всё работает.</description><content>&lt;p>Столкнулся с такой проблемой. Есть папка \server\docs\marketing. Нужно &amp;ldquo;правильно&amp;rdquo; дать доступ к этой общей папке.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->По уму создал группу ACL_Marketing_Share_RW, &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->член этой группы - группа Marketing, &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->член этой группы в свою очередь - user.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> Группе ACL_Marketing_share_RW дал доступ на запись к указанной папке. &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Пользователя user по сети не пускает в эту папку с разными ошибками - то &amp;ldquo;Расположение недоступно&amp;rdquo;, то &amp;ldquo;Нет доступа&amp;rdquo; - в общем сдохни МС, никсы рулят =). Если давать доступ к папке конкретно юзеру - всё работает. Где проблема?&lt;!-- raw HTML omitted -->Гугление привело к этому: &lt;!-- raw HTML omitted -->1&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->2&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->3&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->4&lt;!-- raw HTML omitted -->.&lt;!-- raw HTML omitted -->Короче нужно перелогиниться - так обновляется access token пользователя. Сделал, как советуют - помогло. Курите &lt;!-- raw HTML omitted -->текнет &lt;!-- raw HTML omitted -->коллеги!&lt;/p></content></item><item><title>PowerShell. Заметки.</title><link>https://bubnovd.net/blogger/powershell.-%D0%B7%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8./</link><pubDate>Tue, 11 Jun 2013 20:32:00 +0000</pubDate><guid>https://bubnovd.net/blogger/powershell.-%D0%B7%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8./</guid><description>Начал использовать PowerShell. Инструмент очень мощный. По мощности сравним с шеллом никсов. Не буду утверждать что круче - не разбираюсь ни в том, ни в другом. Решил сделать в качестве памятки несколько заметок по использованию этого инструмента.1. Заметка номер раз. Простейшие регулярные выражения в PS.^ - начало строки$ - конец строки. - один любой символУдалить подстроку или заменить её - -replace . Простейший способ редактирования строк без вникания в код и написания &amp;ldquo;нормальных&amp;rdquo; регэкспов - тупо удалить нужное кол-во символов.</description><content>&lt;p>Начал использовать PowerShell. Инструмент очень мощный. По мощности сравним с шеллом никсов. Не буду утверждать что круче - не разбираюсь ни в том, ни в другом. Решил сделать в качестве памятки несколько заметок по использованию этого инструмента.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->1.&lt;!-- raw HTML omitted --> Заметка номер раз. Простейшие регулярные выражения в PS.&lt;!-- raw HTML omitted -->^ - начало строки&lt;!-- raw HTML omitted -->$ - конец строки&lt;!-- raw HTML omitted -->. - один любой символ&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Удалить подстроку или заменить её - -replace . Простейший способ редактирования строк без вникания в код и написания &amp;ldquo;нормальных&amp;rdquo; регэкспов - тупо удалить нужное кол-во символов.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> (Get-Content .\list.txt)  -replace &amp;ldquo;^&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;rdquo; | Set-Content list1.txt&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Получили содержание файла, прошли по строкам, в каждой строке удалили какое-то количество первых символов, записали в файл.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->2. Получить список файлов, открывавшихся определенным пользователем в определенную дату.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Get-EventLog security -after (Get-Date -hour 0 -minute 0 -second 0) | ?{$&lt;em>.eventid -eq 560} | ?{$&lt;/em>.username -eq &amp;ldquo;username&amp;rdquo;}&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Здесь мы получаем события журнала безопасности за текущую дату с 0 часов, 0 минут, 0 секунд с eventid равным 560 (аудит успеха. открытие объекта. Эта информация здесь: &lt;!-- raw HTML omitted -->Описание событий системы безопасности&lt;!-- raw HTML omitted -->) и именем пользователя username.&lt;!-- raw HTML omitted -->Но для того, чтобы эта команда сработала, необходимо чтобы велся аудит доступа к файловой системе. Об этом можно почитать &lt;!-- raw HTML omitted -->тут&lt;!-- raw HTML omitted -->. Позже сам напишу подобный мануал.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Дальше больше&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->3. Теперь скрипт по мотивам предыдущей заметки. Назначение: получить список пользователей, пытавшихся открыть файлы на ФС. Получаем время доступа, имя файла и имя пользователя.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->$Events = Get-EventLog security | ?{$&lt;em>.eventid -eq 560}&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->$Data = New-Object System.Management.Automation.PSObject&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->$Data | Add-Member NoteProperty Time ($null)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->$Data | Add-Member NoteProperty UserName ($null)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->$Data | Add-Member NoteProperty File ($null)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->$Events | %{&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->$Data.time = $&lt;/em>.TimeGenerated&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->$message = $&lt;em>.message.split(&amp;quot;&lt;code>n&amp;quot;) | %{$_.trimstart()} | %{$_.trimend()}&amp;lt;/span&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;i&amp;gt;&amp;lt;span style=&amp;quot;color: #990000;&amp;quot;&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;i&amp;gt;&amp;lt;span style=&amp;quot;color: #990000;&amp;quot;&amp;gt;$Data.UserName = ($message | ?{$_ -like &amp;quot;Пользователь-клиент:*&amp;quot;} | %{$_ -replace &amp;quot;^.+:.&amp;quot;} )&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;i&amp;gt;&amp;lt;span style=&amp;quot;color: #990000;&amp;quot;&amp;gt;$Data.File = ($message | ?{$_ -like &amp;quot;Имя объекта:*&amp;quot;} | %{$_ -replace &amp;quot;^.+:.&amp;quot;})&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;i&amp;gt;&amp;lt;span style=&amp;quot;color: #990000;&amp;quot;&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;i&amp;gt;&amp;lt;span style=&amp;quot;color: #990000;&amp;quot;&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;i&amp;gt;&amp;lt;span style=&amp;quot;color: #990000;&amp;quot;&amp;gt;$data | Out-File F:\Docs\fs1.txt -Append&amp;lt;/span&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;i&amp;gt;&amp;lt;span style=&amp;quot;color: #990000;&amp;quot;&amp;gt;}&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;br /&amp;gt;Разберем по строкам.&amp;lt;br /&amp;gt;&amp;lt;br /&amp;gt;Первая строка получает события типа &amp;quot;безопасность&amp;quot; с кодом 560 (Get-Eventlog - получить данные журнала событий, security - данные журнала &amp;quot;безопасность&amp;quot;, где свойство eventid каждого (|) события ($_) эквивалентно (-eq) 560).&amp;lt;br /&amp;gt;&amp;lt;br /&amp;gt;Вторая строка создает объект PSObject. 3-5 строки добавляют в объект поля Time, UserName и File.&amp;lt;br /&amp;gt;&amp;lt;br /&amp;gt;Затем пробегаемся по событиям следующим способом.&amp;lt;br /&amp;gt;В поле time объекта Data записываем время создания строки с сообщением (время доступа к файлу).&amp;lt;br /&amp;gt;&amp;lt;br /&amp;gt;&amp;amp;nbsp;Строкой&amp;amp;nbsp;&amp;lt;i&amp;gt;&amp;lt;span style=&amp;quot;color: #990000;&amp;quot;&amp;gt;$message = $_.message.split(&amp;quot;&lt;/code>n&amp;quot;) | %{$&lt;/em>.trimstart()} | %{$_.trimend()} &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->— в переменную message заносим массив строк, которые разделяются символом переноса строки (&amp;rsquo;n), функции trimstart(), trimend() убирают все лишние символы в конце и в начале строки, функция split разделяет строку.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Далее во вновь образовавшемся массиве мы ищем совпадения по строке «Пользователь-клиент:» и «Имя объекта:», а -replace в дальнейшем удаляет эти регулярные выражения, оставляя саму информацию.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> И последней строкой записываем то, что получилось в итоге в файл.&lt;!-- raw HTML omitted --> Получается что-то типа этого:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Time                                    UserName                                File                                   &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&amp;mdash;-                                    &amp;mdash;&amp;mdash;&amp;ndash;                                &amp;mdash;-                                   &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->13.06.2013 16:52:22                     Seti                                    Docs\Сети\Общая папка\Реестры счет&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Time                                    UserName                                File                                   &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&amp;mdash;-                                    &amp;mdash;&amp;mdash;&amp;ndash;                                &amp;mdash;-                                   &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->13.06.2013 16:52:22                     Seti                                    Docs\Сети\Общая папка\Реестры счет&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Скрипт создан при помощи этих постов: &lt;!-- raw HTML omitted -->хабр&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->Поданс&lt;!-- raw HTML omitted -->.&lt;/p></content></item><item><title>Настройка FTP-сервера в IIS7</title><link>https://bubnovd.net/blogger/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-ftp-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0-%D0%B2-iis7/</link><pubDate>Tue, 03 Jul 2012 00:00:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-ftp-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0-%D0%B2-iis7/</guid><description>FTP довольно старый протокол (ему уже больше 40 лет), но довольно удобный и до сих пор используется очень многими администраторами для обмена файлами. Есть целая куча разнообразных FTP-серверов под винду - от простейшего Quick&amp;rsquo;n Easy FTP Server до таких громил как Titan FTP Server и Serv-U. В серверных дистрибутивах Windows тоже есть возможность поднять FTP-сервер. Хоть многие и ругают MS за хромую безопасность и ошибки в коде, использование встроенных ролей сервера вместо решений стороннего производителя имеет свои плюсы.</description><content>&lt;p>FTP довольно старый протокол (ему уже больше 40 лет), но довольно удобный и до сих пор используется очень многими администраторами для обмена файлами. Есть целая куча разнообразных FTP-серверов под винду - от простейшего Quick&amp;rsquo;n Easy FTP Server до таких громил как Titan FTP Server и Serv-U.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> В серверных дистрибутивах Windows тоже есть возможность поднять FTP-сервер. Хоть многие и ругают MS за хромую безопасность и ошибки в коде, использование встроенных ролей сервера вместо решений стороннего производителя имеет свои плюсы. Главный из них - это полная совместимость со всеми службами MS (в частности AD) и тонкая настройка интеграции этих служб.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Рассмотрим установку и настройку FTP-сервера на примере Windows 2008R2 и IIS7.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Добавляем роль FTP в Диспетчер сервера - Добавление ролей. Следует выбрать Веб-сервер(IIS), в следующем окне диалога выбираем FTP-сервер.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Настройка FTP-сервера.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Открываем диспетчер сервера - Веб сервер - Диспетчер служб IIS - наш сервер. ПКМ по разделу сайты - добавить FTP-сайт.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Пишем название нашего сайта и путь к физическому расположению каталогов&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Задаем IP-адрес и порт, на которых будет висеть наш сервер. Здесь же можно установить защиту соединения и выбрать сертификат. Этим мы займемся позже.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Сейчас наша цель - сделать простейший доступ, поэтому в следующем диалоговом окне выбираем Анонимный доступ.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->На этом начальная настройка FTP-сервера закончена. Но при попытке войти в него у нас ничего не получится. На этапе настройки сервера рекомендую включить подробное логирование событий, чтобы при выявлении ошибок можно было легко их опознать. Выбираем начальную страницу нашего сервера - Ведение журнала FTP - нажимаем Выберите поля W3C и ставим галочку Дополнительные сведения &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Теперь в папке C:\inetpub\logs\LogFiles\FTPSVC мы можем увидеть подробный лог нашего сервера.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Для доступа к серверу анонимных пользователей необходимо в правилах авторизации FTP добавить правило для анонимных пользователей и установить флажок типа доступа (чтение, запись).&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Всё! Простейший FTP-сервер готов к работе. Чтобы раздать более тонкие права, следует выставить их  в разделах Правила авторизации и Проверка подлинности FTP. Для настройки прав на вложенные папки требуется выполнить такую же настройку для папок (в диспетчере выбрать не сервер целиком, а нужную папку). &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Вот так настраивается FTP-сервер, входящий в состав веб-сервера IIS7 в Windows 2008R2. Отличительной его особенностью является тесная интеграция с серверными службами Microsoft, такими как веб-сервер и контроллер домена.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Теперь рассмотрим работу FTP-сервера с сертификатами.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Протокол FTP довольно слабо защищен в плане безопасности. При авторизации пользователя, его учетные данные передаются по сети в незашифрованном виде и могут быть перехвачены злоумышленником. Чтобы этого не случилось, требуется ввести шифрование соединения.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Если у вас уже есть сертификат, то первую часть можете не читать.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Создание самоподписанного сертификата.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->На начальной странице веб-сервера выбираем пункт Сертификаты сервера. В появившемся окне щелкаем ПКМ и выбираем Создать самоподписанный сертификат. Даём ему осмысленное имя. Сертификат создается автоматически.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Настройка SSL на FTP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->На начальной странице FTP сервера выбираем Параметры SSL FTP. Ставим галочку Требовать SSL-соединения и выбираем наш сертификат.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Теперь подключиться к серверу можно только с клиента, поддерживающего шифрованные FTP-соединения, например Filezilla. При настройке соединения в Filezilla необходимо выбрать Require explicit FTP over TLS. При подключении к FTP-серверу клиент выдаст предупреждение о сертификате. Необходимо принять его.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Теперь у нас есть безопасный FTP-сервер с возможностью тонкой настройки и интеграцией со службами Microsoft. Конечно, можно было настроить продукт стороннего производителя, но с родным не будет ничего лишнего в системе.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Не нашел, где можно детально настроить скорость и права для каждого пользователя, как в том же Titan&amp;rsquo;е например. Но это уже задача не столько FTP-сервера, сколько шейпера. MS предлагает такие решения, но уже за отдельные деньги.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Видео по настройке FTP &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Перенос учетных записей в домен</title><link>https://bubnovd.net/blogger/%D0%BF%D0%B5%D1%80%D0%B5%D0%BD%D0%BE%D1%81-%D1%83%D1%87%D0%B5%D1%82%D0%BD%D1%8B%D1%85-%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9-%D0%B2-%D0%B4%D0%BE%D0%BC%D0%B5%D0%BD/</link><pubDate>Mon, 02 Jul 2012 21:00:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%BF%D0%B5%D1%80%D0%B5%D0%BD%D0%BE%D1%81-%D1%83%D1%87%D0%B5%D1%82%D0%BD%D1%8B%D1%85-%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D0%B5%D0%B9-%D0%B2-%D0%B4%D0%BE%D0%BC%D0%B5%D0%BD/</guid><description>Надоело переносить учетки пользователей из локальных в доменные при внедрении Active Directory. Решил найти автоматизированное решение. Оказывается не я первый озадачился этой проблемой =) Есть как минимум 5 вариантов автоматизации. Рассмотрим их по порядку.User State Migration Tool. Бесплатная утилита от Microsoft. Поставляется в комплекте Windows Automated Installation Kit. Используется из консоли. Мануал. У меня не получилось выполнить сохранение профиля - scanstate встал на последнем этапе на 1% и никак не реагировал.</description><content>&lt;p>Надоело переносить учетки пользователей из локальных в доменные при внедрении Active Directory. Решил найти автоматизированное решение. Оказывается не я первый озадачился этой проблемой =) Есть как минимум 5 вариантов автоматизации. Рассмотрим их по порядку.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->User State Migration Tool. Бесплатная утилита от Microsoft. Поставляется в комплекте Windows Automated Installation Kit. Используется из консоли. &lt;!-- raw HTML omitted -->Мануал&lt;!-- raw HTML omitted -->. У меня не получилось выполнить сохранение профиля - scanstate встал на последнем этапе на 1% и никак не реагировал.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Active Directory Migration Tool. Продукт от той же всем известной компании. Предназначен для миграции из домена в домен. Сейчас нас не интересует. &lt;!-- raw HTML omitted -->Мануал&lt;!-- raw HTML omitted -->.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->В Windows 7 можно воспользоваться стандартным средством переноса данных.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Moveuser &lt;!-- raw HTML omitted -->- тоже от MS. Работает на XP. &lt;!-- raw HTML omitted -->Версия для 7.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->User Profile Wizard&lt;!-- raw HTML omitted -->. Бесплатная утилита от ForensIT. Смогла перенести все данные и настройки. Проблем пока не замечено. &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Ещё можно написать скрипт на WMI/batch/PowerShell/brainfuck/что-то_ещё - но это уже другая история.&lt;!-- raw HTML omitted -->После переноса профиля обязательно проверяйте всё - скорее всего что-то обработалось неправильно и придется доделывать руками.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Тема &lt;!-- raw HTML omitted -->на форуме, где я поднимал этот вопрос.&lt;/p></content></item><item><title>Exploit MS12-020</title><link>https://bubnovd.net/blogger/exploit-ms12-020/</link><pubDate>Tue, 27 Mar 2012 23:37:00 +0000</pubDate><guid>https://bubnovd.net/blogger/exploit-ms12-020/</guid><description>Как многие уже знают, недавно была обнаружена критическая уязвимость в ОС от Microsoft MS12-020. Уязвимость касается протокола RDP и затрагивает все версии операционных систем. То есть, если на Вашем компьютере включен удаленный доступ - то Вы в зоне риска. Обновления уже вышли - обновляйтесь http://technet.microsoft.com/ru-ru/security/bulletin/MS12-020Также есть рабочие эксплойты под эту уязвимость. Один из них называется RDPKill. Но у него только одна функция - ребутнуть удаленный комп. Скачать его можно по следующим ссылкам:http://www.</description><content>&lt;p>Как многие уже знают, недавно была обнаружена критическая уязвимость в ОС от Microsoft MS12-020. Уязвимость касается протокола RDP и затрагивает все версии операционных систем. То есть, если на Вашем компьютере включен удаленный доступ - то Вы в зоне риска. Обновления уже вышли - обновляйтесь &lt;!-- raw HTML omitted -->&lt;a href="http://technet.microsoft.com/ru-ru/security/bulletin/MS12-020">http://technet.microsoft.com/ru-ru/security/bulletin/MS12-020&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Также есть рабочие эксплойты под эту уязвимость. Один из них называется RDPKill. Но у него только одна функция - ребутнуть удаленный комп. Скачать его можно по следующим ссылкам:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="http://www.filefactory.com/file/12f3n0ecff9h/n/RDPKill_1_exe">http://www.filefactory.com/file/12f3n0ecff9h/n/RDPKill_1_exe&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="http://t63vmi.dl4free.com/">http://t63vmi.dl4free.com/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="http://bayfiles.com/file/6oh5/na3D0P/RDPKill.exe">http://bayfiles.com/file/6oh5/na3D0P/RDPKill.exe&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="http://wikisend.com/download/148852/RDPKill.exe">http://wikisend.com/download/148852/RDPKill.exe&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="http://flazhshare.com/vmabautqpx8u/RDPKill.exe.html">http://flazhshare.com/vmabautqpx8u/RDPKill.exe.html&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="http://www.toofiles.com/nl/oip/documents/exe/rdpkill.html">http://www.toofiles.com/nl/oip/documents/exe/rdpkill.html&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a href="http://www.zshare.net/download/994832652984cd0e/">http://www.zshare.net/download/994832652984cd0e/&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->UPD: &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Обновляйтесь! Если нет возможности обновиться - отключайте удаленный доступ. Нужен доступ - перекидывайте RDP на другой порт (&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TerminalServer\WinStations\RDP-Tcp\PortNumber&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> ). Настраивайте фаерволы (касперский определяет эту атаку, думаю и остальные тоже). Если ничего вышеописанное невозможно то &lt;!-- raw HTML omitted -->вот &lt;!-- raw HTML omitted -->временное решение.  Подробнее об уязвимости &lt;!-- raw HTML omitted -->здесь&lt;!-- raw HTML omitted -->. и &lt;!-- raw HTML omitted -->здесь&lt;!-- raw HTML omitted -->. &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Атака RDPKill&amp;rsquo;ом ложит систему в BSOD с кодами 0x10000050 и 0x1000000a - ошибки оперативной памяти и прерываний&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Мануал по оптимизации RDP</title><link>https://bubnovd.net/blogger/%D0%BC%D0%B0%D0%BD%D1%83%D0%B0%D0%BB-%D0%BF%D0%BE-%D0%BE%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-rdp/</link><pubDate>Sun, 25 Mar 2012 23:00:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%BC%D0%B0%D0%BD%D1%83%D0%B0%D0%BB-%D0%BF%D0%BE-%D0%BE%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-rdp/</guid><description>Мануал по оптимизации и защите RDP http://kb.atraining.ru/windows-rdp-tuning/</description><content>&lt;p>Мануал по оптимизации и защите RDP &lt;!-- raw HTML omitted -->&lt;a href="http://kb.atraining.ru/windows-rdp-tuning/">http://kb.atraining.ru/windows-rdp-tuning/&lt;/a>&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Обучающие программы Microsoft</title><link>https://bubnovd.net/blogger/%D0%BE%D0%B1%D1%83%D1%87%D0%B0%D1%8E%D1%89%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B-microsoft/</link><pubDate>Fri, 23 Mar 2012 00:43:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%BE%D0%B1%D1%83%D1%87%D0%B0%D1%8E%D1%89%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B-microsoft/</guid><description>Обучающие программы Microsoft для начинающих пользователей</description><content>&lt;p>&lt;!-- raw HTML omitted -->Обучающие программы Microsoft для начинающих пользователей&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Интервью с Бешковым</title><link>https://bubnovd.net/blogger/%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D1%8C%D1%8E-%D1%81-%D0%B1%D0%B5%D1%88%D0%BA%D0%BE%D0%B2%D1%8B%D0%BC/</link><pubDate>Thu, 22 Mar 2012 22:47:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D1%8C%D1%8E-%D1%81-%D0%B1%D0%B5%D1%88%D0%BA%D0%BE%D0%B2%D1%8B%D0%BC/</guid><description>Интервью с Андреем Бешковым - руководителем программы безопасности в Российском отделении Microsoft. О Windows 8 и безопасности.Часть 1Часть 2</description><content>&lt;p>Интервью с Андреем Бешковым - руководителем программы безопасности в Российском отделении Microsoft. О Windows 8 и безопасности.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Часть 1&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Часть 2&lt;!-- raw HTML omitted -->&lt;/p></content></item><item><title>Active Directory. Некоторые вопросы безопасности.</title><link>https://bubnovd.net/blogger/active-directory.-%D0%BD%D0%B5%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5-%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D0%B8./</link><pubDate>Wed, 07 Dec 2011 23:43:00 +0000</pubDate><guid>https://bubnovd.net/blogger/active-directory.-%D0%BD%D0%B5%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5-%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D0%B8./</guid><description>При добавлении компьютера в домен AD необходимо его предварительное размещение (создание учетной записи компьютера в AD). Это обусловлено некоторыми аспектами безопасности.При присоединении компьютера к домену без его предварительного размещения, учетная запись компьютера создается в контейнере по умолчанию (Computers). Этот контейнер уступает по возможностям организационному подразделению и соответственно к компьютеру, включенному в этот контейнер не будут применяться объекты групповой политики, скрипты входа и выхода. Чтобы сменить контейнер по умолчанию, необходимо выполнить команду redircmp &amp;ldquo;DN_подразделения для новых объектов компьютеров&amp;rdquo; (например так redircmp ou=newcomputerou,dc=domainname,dc=com).</description><content>&lt;p>При добавлении компьютера в домен AD необходимо его предварительное размещение (создание учетной записи компьютера в AD). Это обусловлено некоторыми аспектами безопасности.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->При присоединении компьютера к домену без его предварительного размещения, учетная запись компьютера создается в контейнере по умолчанию (Computers). Этот контейнер уступает по возможностям организационному подразделению и соответственно к компьютеру, включенному в этот контейнер не будут применяться объекты групповой политики, скрипты входа и выхода. Чтобы сменить контейнер по умолчанию, необходимо выполнить команду redircmp &amp;ldquo;DN_подразделения для новых объектов компьютеров&amp;rdquo; (например так &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->redircmp ou=newcomputerou,dc=domainname,dc=com&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->). Тогда новые компьютеры по умолчанию будут создаваться в указанном подразделении.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Если учетная запись компьютера не была размещена предварительно, то Windows позволяет любому, прошедшему проверку подлинности создать объект компьютера в контейнере по умолчанию. Это является брешью в безопасности. По умолчанию любому, прошедшему проверку подлинности, разрешено создать до 10 компьютеров. Эти данные указаны в атрибуте ms-DS-MachineAccountQuota домена. Рекомендуется установить значение 0. После присвоения этому атрибуту значения 0 присоединять компьютеры к домену смогут только те пользователи, которым явным образом делегированы разрешения на присоединение к предварительно размещенным объектам компьютеров или создание новых компьютеров.&lt;/p></content></item><item><title>Windows и Active Directory. Особые объекты идентификации</title><link>https://bubnovd.net/blogger/windows-%D0%B8-active-directory.-%D0%BE%D1%81%D0%BE%D0%B1%D1%8B%D0%B5-%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B-%D0%B8%D0%B4%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%B8/</link><pubDate>Wed, 07 Dec 2011 23:34:00 +0000</pubDate><guid>https://bubnovd.net/blogger/windows-%D0%B8-active-directory.-%D0%BE%D1%81%D0%BE%D0%B1%D1%8B%D0%B5-%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B-%D0%B8%D0%B4%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%B8/</guid><description>В Windows и Active Directory поддерживаются особые объекты идентификации, членством которых в группах управляет ОС. Их нельзя добавлять в группы, просматривать и модифицировать их параметры. Однако, их можно использовать для назначения прав и разрешений доступа.Анонимный вход (Anonymous Logon). Представляет подключения к компьютеру и ресурсы, созданные без предоставления пользовательского имени и пароля. До Win Server 2k3 эта группа была членом группы Все. Начиная с 2k3 она не входит в группу Все.Прошедшие проверку (Authenticated Users).</description><content>&lt;p>В Windows и Active Directory поддерживаются особые объекты идентификации, членством которых в группах управляет ОС. Их нельзя добавлять в группы, просматривать и модифицировать их параметры. Однако, их можно использовать для назначения прав и разрешений доступа.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Анонимный вход (Anonymous Logon). &lt;!-- raw HTML omitted -->Представляет подключения к компьютеру и ресурсы, созданные без предоставления пользовательского имени и пароля. До Win Server 2k3 эта группа была членом группы Все. Начиная с 2k3 она не входит в группу Все.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Прошедшие проверку (Authenticated Users).&lt;!-- raw HTML omitted --> Представляет объекты идентификации, прошедшие проверку подлинности. Не включает запись Гость.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Все (Everyone).&lt;!-- raw HTML omitted --> Включает учетные записи Прошедшие проверку и Гость. До 2k3 включает группу Анонимный Вход.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Интерактивные (Interactive). &lt;!-- raw HTML omitted -->Представляет пользователей, получающих доступ к ресурсу и локально входящих на компьютер, содержащий ресурс, вместо доступа к ресурсу по сети. Когда пользователь получает доступ к любому ресурсу компьютера, на который вошел локально, такой пользователь автоматически добавляется в группу Интерактивные в разрешениях доступа к этому ресурсу. Эта группа также включает пользователей, вошедших на компьютер через RDP.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Сеть (Network).&lt;!-- raw HTML omitted --> Представляет пользователей, получающих доступ к ресурсу по сети. Аналогична группе Интерактивные, только вместо локального входа используется вход по сети.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Информация из книги &amp;ldquo;Настройка Active Directory Windows Server 2008&amp;rdquo;&lt;/p></content></item><item><title>Сертификация Microsoft</title><link>https://bubnovd.net/blogger/%D1%81%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-microsoft/</link><pubDate>Mon, 05 Dec 2011 09:47:00 +0000</pubDate><guid>https://bubnovd.net/blogger/%D1%81%D0%B5%D1%80%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-microsoft/</guid><description>Сертификация специалистов является подтверждением их знаний и навыков, позволяет изучить новые темы в процессе подготовки, повышает уровень заинтересованности в специалисте со стороны работодателя и просто повышает ЧСВ.Наверное, простейшая сертификация, которая приходит в голову админу и пригодиться практически везде, это сертификация от Microsoft.У MS очень запутанная информация о системе сертификации специалистов (как впрочем и вся остальная информация на их сайтах, где без поллитры не разберёшься). Поэтому здесь я решил расписать вкратце о начальных сертификатах.</description><content>&lt;p>Сертификация специалистов является подтверждением их знаний и навыков, позволяет изучить новые темы в процессе подготовки, повышает уровень заинтересованности в специалисте со стороны работодателя и просто повышает &lt;!-- raw HTML omitted -->ЧСВ&lt;!-- raw HTML omitted -->.&lt;!-- raw HTML omitted -->Наверное, простейшая сертификация, которая приходит в голову админу и пригодиться практически везде, это сертификация от Microsoft.&lt;!-- raw HTML omitted -->У MS очень запутанная информация о системе сертификации специалистов (как впрочем и вся остальная информация на их сайтах, где без поллитры не разберёшься). Поэтому здесь я решил расписать вкратце о начальных сертификатах.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Итак, для подтверждения навыков работы с продуктами MS можно сдать экзамен и получить соответствующий сертификат. Сертификаты эти делятся по направлениям и по уровням. Например, есть серия сертификатов для разработчиков, серия для тренеров, по клиентским системам и т.д. Так как здесь я пишу об администрировании, то и рассматривать сертификаты буду админские.&lt;!-- raw HTML omitted -->По уровню знаний сертификаты тоже делятся. То есть существуют сертификаты как для самых маленьких, так и для мегаспецов, которых в мире можно сосчитать по пальцам.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Начальный уровень сертификации для админа это сертификаты MCTS (Microsoft Certified Technology Specialist). В настоящее время существуют 12 основных направлений этого статуса (&lt;!-- raw HTML omitted -->MCTS на microsoft.com&lt;!-- raw HTML omitted -->):&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Exchange Server&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Lync Server and Office Communications Server&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Project and Project Server&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->SharePoint and SharePoint Server&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->SQL Server&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->System Center&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Virtualization&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Visual Studio&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Windows Client&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Windows Embedded&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Windows Mobile&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Windows Server&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Other (Dynamics, BizTalk, Licensing &amp;hellip;)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->По каждому направлению несколько сертификаций (и, соответственно экзаменов) на различные темы. Меня интересует Windows Server, поэтому рассматривать буду на его примере.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->В сертификацию MCTS Windows Server входят 8 экзаменов, каждому экзамену присвоен уникальный номер:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->MCTS: Windows Server 2008 Active Directory, Configuration (70-640)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->MCTS: Windows Server 2008 Network Infrastructure, Configuration (70-642)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->MCTS: Windows Server 2008 Application Infrastructure, Configuration (70-643)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->MCTS: Windows Small Business Server 2011 Standard, Configuration (70-169)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->MCTS: Windows Small Business Server 2008, Configuration (70-653)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->MCTS: Windows Essential Business Server 2008, Configuration (70-654)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->MCTS: Windows Internals (70-660)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->MCTS: Windows HPC Server 2008, Development (70-691)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Как видно, первые 3 экзамена относятся непосредственно к Windows Server, а остальные - к другим продуктам компании MS. Почитать об экзаменах можно на сайте &lt;!-- raw HTML omitted -->MS&lt;!-- raw HTML omitted --> на буржуйском языке.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Следующим уровнем идет Microsoft Certified IT Professional (MCITP). MCITP тоже делится по направлениям, в зависимости от того, какой у Вас статус MCTS. Если успешно сданы экзамены 70-640, 70-642, то можно сдать &lt;!-- raw HTML omitted -->70-646&lt;!-- raw HTML omitted --> и получить гордый статус MCITP: Server Administrator. Или помимо 70-640, 70-642 и 70-643 сдать ещё несколько экзаменов (как я понял 3): Windows Server 2008 Enterprise Administrator (70-647), Windows 7, Configuring (70-680), Windows 7 and Office 2010, Deploying (70-681) и взять себе гордое звание Энтерпрайз Админа (MCITP: Enterprise Administrator). Но это уже совсем другой уровень.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Ну и немного помечтаем. &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Следующий уровень Microsoft Certified Master (MCM). Для получения этого звания требуется: MCITP: Enterprise Administrator, 70-297 (Designing AD and Network Infrastructure), а также двух-трёх недельное обучение и сдача квалификационной работы.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Ещё выше Microsoft Certified Architect (MCA). &amp;ldquo;Выдаётся после успешной сдачи интервью &amp;hellip; по 7 компетенциям&amp;rdquo;.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Подготовка&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Экзамены проводятся как на русском, так и на английском языках (на русском не все). Знающие люди рекомендуют сдавать на английском, т.к. не искажаются термины и невозможны ошибки при переводе.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Готовиться по официальным учебным пособиям от MS (Microsoft Press, SAMS). Брать материалы с &lt;!-- raw HTML omitted -->Technet&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->Techdays&lt;!-- raw HTML omitted --> и других ресурсов MS. Читать блоги специалистов MS и смотреть их видео. Также нужно читать тематические форумы, т.к. в книгах одно, а на форумах другое - это Практика, друг. Ну и конечно, ещё раз практика. Только настоящая, а не с форумов.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Когда найду время размещу пост ссылок на блоги и каналы Youtube спецов MS.&lt;!-- raw HTML omitted -->&lt;/p></content></item></channel></rss>