<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>functions on Bubnovd</title><link>https://bubnovd.github.io/tags/functions/</link><description>Recent content in functions on Bubnovd</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 03 Mar 2015 01:19:00 +0000</lastBuildDate><atom:link href="https://bubnovd.github.io/tags/functions/index.xml" rel="self" type="application/rss+xml"/><item><title>Dude и SNMP</title><link>https://bubnovd.github.io/blogger/dude-%D0%B8-snmp/</link><pubDate>Tue, 03 Mar 2015 01:19:00 +0000</pubDate><guid>https://bubnovd.github.io/blogger/dude-%D0%B8-snmp/</guid><description>Про The Dude я уже писал. Отличная система мониторинга для сетей, построенных на базе оборудования Mikrotik. Столкнулся со следующей проблемой: хочу получить графики пропускной способности интерфейсов коммутаторов не строя при этом связи между портом коммутатора и конечным устройством на схеме (ну не надо мне перегружать карту клиентскими компами/телефонами). Что-то подобное Dude организовать может, но в ходе чтения различных материалов и обсуждений конкретного решения я не нашел и пришлось копать дальше в тему.</description><content>&lt;p>Про The Dude я уже писал. Отличная система мониторинга для сетей, построенных на базе оборудования Mikrotik. Столкнулся со следующей проблемой: хочу получить графики пропускной способности интерфейсов коммутаторов не строя при этом связи между портом коммутатора и конечным устройством на схеме (ну не надо мне перегружать карту клиентскими компами/телефонами). Что-то подобное Dude организовать может, но в ходе чтения различных материалов и обсуждений конкретного решения я не нашел и пришлось копать дальше в тему. Для нетерпеливых: ответа я пока не нашел.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Итак, мы можем опросить устройство по SNMP и произвести какие-либо манипуляции с полученными данными средствами самой дудки. Стандартный SNMP позволяет нам увидеть следующие параметры:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ifSpeed&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->1.3.6.1.2.1.2.2.1.5&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Текущая скорость интерфейса в битах за секунду.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ifInOctets&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->1.3.6.1.2.1.2.2.1.10&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Полное число полученных байтов, включая символы заголовков&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ifOutOctets&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->1.3.6.1.2.1.2.2.1.16&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Полное количество отправленных октетов с интерфейса, включая символы заголовков.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Сначала я думал, что первая строчка этой таблицы спасет меня. Но нет - она показывает скорость, в которую установлен интерфейс (10/100/1000 Мб/с). Соответственно, ковырять придется второй и третий параметры. Вычислить скорость, исходя из полученных данных можно так: &lt;!-- raw HTML omitted -->(ifInOctets(time1) - ifInOctets(time2)) / (time2 - time1)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Но вот проблема: куда записать текущее значение полученных байтов, чтобы потом вычесть одно из другого. Тут должны помочь функции, встроенные в Dude. Но использование переменных я в них не нашел. Поэтому откладываю эту задачку на неопределенное время. &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->На форуме предлагают решение для The Dude 3.6, но в 4 версии оно не работает. Ссылки, которые дали информацию для размышлений: &lt;!-- raw HTML omitted -->1&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->2&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->3&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->4&lt;!-- raw HTML omitted -->, &lt;!-- raw HTML omitted -->5&lt;!-- raw HTML omitted -->. &lt;!-- raw HTML omitted -->&lt;/p></content></item></channel></rss>