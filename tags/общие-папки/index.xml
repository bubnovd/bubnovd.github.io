<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>общие папки on Bubnovd</title><link>https://bubnovd.github.io/tags/%D0%BE%D0%B1%D1%89%D0%B8%D0%B5-%D0%BF%D0%B0%D0%BF%D0%BA%D0%B8/</link><description>Recent content in общие папки on Bubnovd</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 10 Sep 2011 10:38:00 +0000</lastBuildDate><atom:link href="https://bubnovd.github.io/tags/%D0%BE%D0%B1%D1%89%D0%B8%D0%B5-%D0%BF%D0%B0%D0%BF%D0%BA%D0%B8/index.xml" rel="self" type="application/rss+xml"/><item><title>Linux Server. 3 Расшариваем папки. NFS</title><link>https://bubnovd.github.io/blogger/linux-server.-3-%D1%80%D0%B0%D1%81%D1%88%D0%B0%D1%80%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC-%D0%BF%D0%B0%D0%BF%D0%BA%D0%B8.-nfs/</link><pubDate>Sat, 10 Sep 2011 10:38:00 +0000</pubDate><guid>https://bubnovd.github.io/blogger/linux-server.-3-%D1%80%D0%B0%D1%81%D1%88%D0%B0%D1%80%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC-%D0%BF%D0%B0%D0%BF%D0%BA%D0%B8.-nfs/</guid><description>Чтобы файлы с нашего сервера были видны на других Linux-машинах нам потребуется протокол NFS - Network File System - протокол сетевого доступа к файловым системам.Итак, на серв ставимsudo apt-get install nfs-server nfs-kernel-server nfs-common nfs-clientСоздаём папку, которую будем расшариватьmkdir ~/shareНастройки хранятся в файле /etc/exports. Мануал по нему: man exports. Прописываем настройки шары: /home/user/share/ 192.168.0.10(rw, sync, no_subtree_check)Можно открыть доступ нескольким машинам: /home/user/share/ 192.168.0.10(rw,sync,no_subtree_check) 192.168.0.11(ro,async,no_subtree_check)Можно открыть всем * или отдельной подсети 192.168.0.0/255.255.255.0.Опции:rw - чтение (r), запись (w)ro - только чтение (read-only)sync - синхронное поведение файловой системы (файл появился на серве - тут же его видит клиент)async - асинхронное поведение файловой системыno_subtree_check - долго объяснять.</description><content>&lt;p>Чтобы файлы с нашего сервера были видны на других Linux-машинах нам потребуется протокол NFS - Network File System - протокол сетевого доступа к файловым системам.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Итак, на серв ставим&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->sudo apt-get install nfs-server nfs-kernel-server nfs-common nfs-client&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Создаём папку, которую будем расшаривать&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->mkdir ~/share&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Настройки хранятся в файле /etc/exports. Мануал по нему: &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->man exports&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->. Прописываем настройки шары:&lt;!-- raw HTML omitted --> /home/user/share/ 192.168.0.10(rw, sync, no_subtree_check)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Можно открыть доступ нескольким машинам:&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->/home/user/share/ 192.168.0.10(rw,sync,no_subtree_check) 192.168.0.11(ro,async,no_subtree_check)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Можно открыть всем * или отдельной подсети 192.168.0.0/255.255.255.0.&lt;!-- raw HTML omitted -->Опции:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->rw&lt;!-- raw HTML omitted --> - чтение (r), запись (w)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ro&lt;!-- raw HTML omitted --> - только чтение (read-only)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->sync&lt;!-- raw HTML omitted --> - синхронное поведение файловой системы (файл появился на серве - тут же его видит клиент)&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->async&lt;!-- raw HTML omitted --> - асинхронное поведение файловой системы&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->no_subtree_check&lt;!-- raw HTML omitted --> -&lt;!-- raw HTML omitted --> долго объяснять&lt;!-- raw HTML omitted -->. Вобщем увеличивает скорость.&lt;!-- raw HTML omitted -->Перезапускаем сервер:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->sudo /etc/init.d/nfs-kernel-server restart&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->При внесении изменений в /etc/exports нужно выполнить команду &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->exportfs -&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->avr&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Настройки клиента:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Создаём каталог, куда будем монтировать удалённую директорию:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->mkdir /home/user/nfs&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Монтируем:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->sudo mount -t nfs 192.168.0.10:/home/user/share /home/user/nfs -rw&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->sudo mount -t (тип монтирования) IP_сервера:/папка  /куда/монтировать -флаги монтирования (в нашем случае запись).&lt;!-- raw HTML omitted -->Чтобы папка монтировалась при запуске системы, команду монтирования нужно прописать в файл /etc/fstab. Это ещё не делал - гуглите сами.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Посмотреть, что открыто на сервере: &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->sudo exportfs&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Проверить, запущен ли NFS: &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ps ax | grep nfs&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->     &lt;!-- raw HTML omitted -->показывает демона&lt;!-- raw HTML omitted -->или&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->rpcinfo -p&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->   &lt;!-- raw HTML omitted -->показывает открытые по RPC порты и процессы&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Материал взят &lt;!-- raw HTML omitted -->отсюда&lt;!-- raw HTML omitted --> и из журнала LinuxFORMAT.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p></content></item></channel></rss>