<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>install on Bubnovd</title><link>https://bubnovd.github.io/tags/install/</link><description>Recent content in install on Bubnovd</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 26 May 2011 21:51:00 +0000</lastBuildDate><atom:link href="https://bubnovd.github.io/tags/install/index.xml" rel="self" type="application/rss+xml"/><item><title>Шпарагалка по установке gentoo</title><link>https://bubnovd.github.io/blogger/%D1%88%D0%BF%D0%B0%D1%80%D0%B0%D0%B3%D0%B0%D0%BB%D0%BA%D0%B0-%D0%BF%D0%BE-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B5-gentoo/</link><pubDate>Thu, 26 May 2011 21:51:00 +0000</pubDate><guid>https://bubnovd.github.io/blogger/%D1%88%D0%BF%D0%B0%D1%80%D0%B0%D0%B3%D0%B0%D0%BB%D0%BA%D0%B0-%D0%BF%D0%BE-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B5-gentoo/</guid><description>Шпарагалка по установке gentoo. Скопипизжено отсюда: http://freehabr.ru/blog/17.html 1. Разметка # fdisk /dev/sda 2. Форматирование разделов # mkfs -t &amp;lt;тип_ФС&amp;gt; /dev/sda&amp;lt;номер_раздела&amp;gt; и т.д. Установка базовой системы 3. Монтирование разделов # mount /dev/sda&amp;lt;номер_раздела&amp;gt; /mnt/gentoo/&amp;lt;путь&amp;gt; и т.д. 4. Переход в каталог gentoo # cd /mnt/gentoo 5. Скачивание архива стадии # wget &amp;lt;сервер&amp;gt;/gentoo/releases/&amp;lt;архитектура&amp;gt;/current/stages/stage3-&amp;lt;архитектура&amp;gt;-2007.0.tar.bz2 6. Скачивание снимка дерева портежей # wget &amp;lt;сервер&amp;gt;/gentoo/snapshots/portage-latest.tar.bz2 7. Распаковка архива стадии # tar xvjpf stage3-i686-2007.0.tar.bz2 8. Распаковка снимка дерева портежей # tar xvjf /mnt/gentoo/portage-latest.</description><content>&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Шпарагалка по установке gentoo. Скопипизжено отсюда: &lt;!-- raw HTML omitted -->&lt;a href="http://freehabr.ru/blog/17.html">http://freehabr.ru/blog/17.html&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->1. Разметка&lt;!-- raw HTML omitted --> # fdisk /dev/sda&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 2. Форматирование разделов&lt;!-- raw HTML omitted --> # mkfs -t &amp;lt;тип_ФС&amp;gt; /dev/sda&amp;lt;номер_раздела&amp;gt;&lt;!-- raw HTML omitted --> и т.д.&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Установка базовой системы&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 3. Монтирование разделов&lt;!-- raw HTML omitted --> # mount /dev/sda&amp;lt;номер_раздела&amp;gt; /mnt/gentoo/&amp;lt;путь&amp;gt;&lt;!-- raw HTML omitted --> и т.д.&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 4. Переход в каталог gentoo&lt;!-- raw HTML omitted --> # cd /mnt/gentoo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 5. Скачивание архива стадии&lt;!-- raw HTML omitted --> # wget &amp;lt;сервер&amp;gt;/gentoo/releases/&amp;lt;архитектура&amp;gt;/current/stages/stage3-&amp;lt;архитектура&amp;gt;-2007.0.tar.bz2&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 6. Скачивание снимка дерева портежей&lt;!-- raw HTML omitted --> # wget &amp;lt;сервер&amp;gt;/gentoo/snapshots/portage-latest.tar.bz2&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 7. Распаковка архива стадии&lt;!-- raw HTML omitted --> # tar xvjpf stage3-i686-2007.0.tar.bz2&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 8. Распаковка снимка дерева портежей&lt;!-- raw HTML omitted --> # tar xvjf /mnt/gentoo/portage-latest.tar.bz2 -C /mnt/gentoo/usr&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файлы настройки&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 9. Правка одного из основных файлов Gentoo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /mnt/gentoo/etc/make.conf&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # За подробностями см. make.conf.example&lt;!-- raw HTML omitted --> CFLAGS=&amp;quot;-O&amp;lt;уровень_оптимизации&amp;gt; -march=&amp;lt;тип_ЦПУ&amp;gt; -pipe&amp;quot;&lt;!-- raw HTML omitted --> CXXFLAGS=&amp;quot;${CFLAGS}&amp;quot;&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # Не изменять&lt;!-- raw HTML omitted --> CHOST=&amp;quot;&amp;lt;архитектура&amp;gt;&amp;quot;&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> MAKEOPTS=&amp;quot;-j&amp;lt;кол-во_процессоров+1&amp;gt;&amp;quot;&lt;!-- raw HTML omitted --> GENTOO_MIRRORS=«&lt;!-- raw HTML omitted -->distro.ibiblio.org/pub/linux/distributions/gentoo/&lt;!-- raw HTML omitted --> „&lt;!-- raw HTML omitted --> SYNC=“rsync://rsync.gentoo.org/gentoo-portage»&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # Для поддержки мыши и клавиатуры в Xorg&lt;!-- raw HTML omitted --> INPUT_DEVICES=«keyboard mouse»&lt;!-- raw HTML omitted --> # Для поддержки видеокарты в Xorg&lt;!-- raw HTML omitted --> VIDEO_CARDS=&amp;quot;&amp;lt;название_драйвера&amp;gt;&amp;quot;&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # См. /mnt/gentoo/usr/portage/profiles/use.desc&lt;!-- raw HTML omitted --> # См. /mnt/gentoo/usr/portage/profiles/use.local.desc&lt;!-- raw HTML omitted --> USE=&amp;quot;&amp;lt;флаги&amp;gt;&amp;quot;&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 10. Настройка DNS&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /mnt/gentoo/etc/resolv.conf&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> nameserver &amp;lt;IP_сервера_DNS&amp;gt;&lt;!-- raw HTML omitted --> nameserver &amp;lt;IP_ещё_одного_сервера_DNS&amp;gt;&lt;!-- raw HTML omitted --> Или просто скопировать текущую информацию о DNS-серверах&lt;!-- raw HTML omitted --> # cp -L /etc/resolv.conf /mnt/gentoo/etc/resolv.conf&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 11. Информация о файловых системах&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /mnt/gentoo/etc/fstab&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> /dev/sda1 / &amp;lt;файловая_система&amp;gt; defaults 0 1&lt;!-- raw HTML omitted --> /dev/sda&amp;lt;номер_раздела&amp;gt; none swap sw 0 2&lt;!-- raw HTML omitted --> /dev/sda&amp;lt;номер_раздела&amp;gt; &amp;lt;каталог&amp;gt; &amp;lt;файловая_система&amp;gt; defaults 0 2&lt;!-- raw HTML omitted --> proc /proc proc defaults 0 0&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # Если /tmp нужен в ОЗУ&lt;!-- raw HTML omitted --> none /tmp tmpfs defaults 0 0&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # Если CD/DVD монтируется вручную&lt;!-- raw HTML omitted --> # Указанное для mod значение снимает флаг исполнения с файлов на CD/DVD&lt;!-- raw HTML omitted --> /dev/hd/mnt/cdrom auto user,ro,noauto,uid=1000,gid=1000,mode=100644 0 0&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # Если планируется использование DVD-RAM&lt;!-- raw HTML omitted --> /dev/hd/mnt/dvdram auto user,rw,noauto 0 0&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # Если флоппи кому-то ещё нужен&lt;!-- raw HTML omitted --> /dev/fd0 /mnt/floppy auto user,iocharset=cp1251,noauto,rw,noexec,showexec 0 0&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 12. Имя машины&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /mnt/gentoo/etc/conf.d/hostname&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> HOSTNAME=&amp;quot;&amp;lt;название_хоста&amp;gt;&amp;quot;&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 13. Настройка сетевых параметров&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /mnt/gentoo/etc/conf.d/net&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> # Задать параметры вручную…&lt;!-- raw HTML omitted --> config_eth0=( &amp;quot; 192.168.0.1 netmask 255.255.255.0 broadcast 192.168.0.255&amp;quot; )&lt;!-- raw HTML omitted --> routes_eth0=( «default gw 192.168.0.1» )&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> #… или получить их автоматически&lt;!-- raw HTML omitted --> config_eth0=( «dhcp» )&lt;!-- raw HTML omitted --> dhcp_eth0=«nodns nontp nonis»&lt;!-- raw HTML omitted --> Оживление Gentoo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 14. Монтирование /proc&lt;!-- raw HTML omitted --> # mount -t proc none /mnt/gentoo/proc&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 15. Монтирование /dev&lt;!-- raw HTML omitted --> # mount -o bind /dev /mnt/gentoo/dev&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 16. Смена корневого каталога&lt;!-- raw HTML omitted --> # chroot /mnt/gentoo /bin/bash&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> ВАЖНО: Дальнейшие команды будут выполняться в среде Gentoo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 17. Обновление переменных среды&lt;!-- raw HTML omitted --> # env-update&lt;!-- raw HTML omitted --> # source /etc/profile&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 18. Смена приглашения командной строки&lt;!-- raw HTML omitted --> # export PS1=&amp;quot;(chroot) $PS1&amp;quot;&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Сборка ядра&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 19. Обновление дерева портежей&lt;!-- raw HTML omitted --> # emerge &amp;ndash;sync&lt;!-- raw HTML omitted --> или&lt;!-- raw HTML omitted --> # emerge-webrsync&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 20. Установка исходных кодов ядра Gentoo&lt;!-- raw HTML omitted --> # USE=&amp;quot;-doc symlink&amp;quot; emerge gentoo-sources&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 21. Настройка ядра Gentoo&lt;!-- raw HTML omitted --> # cd /usr/src/linux&lt;!-- raw HTML omitted --> # make menuconfig&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> ВАЖНО: Требует дополнительных действий (См. «Логика настройки ядра»)&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 22. Компиляция ядра&lt;!-- raw HTML omitted --> # make &amp;amp;&amp;amp; make modules_install&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 23. Установка ядра&lt;!-- raw HTML omitted --> # cp arch/i386/boot/bzImage /boot/linux-&amp;lt;архитектура&amp;gt;-gentoo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Прочие системные установки&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 24. Сетевое подключение при загрузке системы&lt;!-- raw HTML omitted --> # rc-update add net.eth0 default&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 25. Пароль суперпользователя&lt;!-- raw HTML omitted --> # passwd&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 26. Система журналирования&lt;!-- raw HTML omitted --> # emerge syslog-ng&lt;!-- raw HTML omitted --> # rc-update add syslog-ng default&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 27. Периодические задания (по необходимости)&lt;!-- raw HTML omitted --> # emerge vixie-cron&lt;!-- raw HTML omitted --> # rc-update add vixie-cron default&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 28. Установка клиента DHCP (по необходимости)&lt;!-- raw HTML omitted --> # emerge dhcpcd&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 29. Установка клиента PPPoE (по необходимости)&lt;!-- raw HTML omitted --> # USE=&amp;quot;-X&amp;quot; emerge rp-pppoe&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Настройка загрузчика&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 30. Установка загрузчика LILO&lt;!-- raw HTML omitted --> # emerge lilo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 31. Настройка LILO&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /etc/lilo.conf&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> boot=/dev/sda&lt;!-- raw HTML omitted --> prompt&lt;!-- raw HTML omitted --> timeout=200&lt;!-- raw HTML omitted --> default=gentoo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> image=/boot/linux-&amp;lt;архитектура&amp;gt;-gentoo&lt;!-- raw HTML omitted --> label=gentoo&lt;!-- raw HTML omitted --> read-only &lt;!-- raw HTML omitted --> root=/dev/sda32. Записать LILO&lt;!-- raw HTML omitted --> # /sbin/lilo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Локализация в UNICODE&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 33. Установка шрифтов&lt;!-- raw HTML omitted --> # emerge terminus-font intlfonts freefonts cronyx-fonts corefonts artwiz-fonts kbd&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 34. Включение нужных локалей&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /etc/locale.gen&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> en_US ISO-8859-1&lt;!-- raw HTML omitted --> en_US.UTF-8 UTF-8&lt;!-- raw HTML omitted --> ru_RU.CP1251 CP1251&lt;!-- raw HTML omitted --> ru_RU.KOI8-R KOI8-R&lt;!-- raw HTML omitted --> ru_RU.UTF-8 UTF-8&lt;!-- raw HTML omitted --> 35. Пересборка glibc&lt;!-- raw HTML omitted --> # emerge -av glibc&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 36. Сборка локали&lt;!-- raw HTML omitted --> # locale-gen&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 37. Переменные окружения&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /etc/env.d/02locale&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> LC_ALL=&amp;quot;&amp;quot;&lt;!-- raw HTML omitted --> LANG=«ru_RU.UTF-8»&lt;!-- raw HTML omitted --> LC_NUMERIC=«C»&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 38. Файл rc.conf&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /etc/rc.conf&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> UNICODE=«yes»&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 39. Шрифт консоли&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /etc/conf.d/consolefont&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> CONSOLEFONT=«Cyr_a8x16»&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 40. Карта&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Файл: /etc/conf.d/keymaps&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> KEYMAP=&amp;quot;-u ru4&amp;quot;&lt;!-- raw HTML omitted --> SET_WINDOWKEYS=«yes»&lt;!-- raw HTML omitted --> EXTENDED_KEYMAPS=&amp;quot;&amp;quot;&lt;!-- raw HTML omitted --> DUMPKEYS_CHARSET=«koi8-r»&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> Загрузка Gentoo&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 41. Выход из окружения Gentoo&lt;!-- raw HTML omitted --> # exit&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 42. Размонтирование разделов&lt;!-- raw HTML omitted --> # cd /&lt;!-- raw HTML omitted --> # umount /mnt/gentoo/&amp;lt;путь&amp;gt;&lt;!-- raw HTML omitted --> и т.д.&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted --> 43. Перезагрузка&lt;!-- raw HTML omitted --> # reboot&lt;/p></content></item></channel></rss>