<!doctype html><html lang=en><head><title>Шпарагалка по установке gentoo :: Bubnovd</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Шпарагалка по установке gentoo. Скопипизжено отсюда: http://freehabr.ru/blog/17.html 1. Разметка # fdisk /dev/sda 2. Форматирование разделов # mkfs -t &amp;lt;тип_ФС&amp;gt; /dev/sda&amp;lt;номер_раздела&amp;gt; и т.д. Установка базовой системы 3. Монтирование разделов # mount /dev/sda&amp;lt;номер_раздела&amp;gt; /mnt/gentoo/&amp;lt;путь&amp;gt; и т.д. 4. Переход в каталог gentoo # cd /mnt/gentoo 5. Скачивание архива стадии # wget &amp;lt;сервер&amp;gt;/gentoo/releases/&amp;lt;архитектура&amp;gt;/current/stages/stage3-&amp;lt;архитектура&amp;gt;-2007.0.tar.bz2 6. Скачивание снимка дерева портежей # wget &amp;lt;сервер&amp;gt;/gentoo/snapshots/portage-latest.tar.bz2 7. Распаковка архива стадии # tar xvjpf stage3-i686-2007.0.tar.bz2 8. Распаковка снимка дерева портежей # tar xvjf /mnt/gentoo/portage-latest."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://bubnovd.github.io/blogger/%D1%88%D0%BF%D0%B0%D1%80%D0%B0%D0%B3%D0%B0%D0%BB%D0%BA%D0%B0-%D0%BF%D0%BE-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B5-gentoo/><link rel=stylesheet href=https://bubnovd.github.io/assets/style.css><link rel=stylesheet href=https://bubnovd.github.io/assets/blue.css><link rel=apple-touch-icon href=https://bubnovd.github.io/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://bubnovd.github.io/img/favicon/blue.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Шпарагалка по установке gentoo"><meta property="og:description" content="Шпарагалка по установке gentoo. Скопипизжено отсюда: http://freehabr.ru/blog/17.html 1. Разметка # fdisk /dev/sda 2. Форматирование разделов # mkfs -t &amp;lt;тип_ФС&amp;gt; /dev/sda&amp;lt;номер_раздела&amp;gt; и т.д. Установка базовой системы 3. Монтирование разделов # mount /dev/sda&amp;lt;номер_раздела&amp;gt; /mnt/gentoo/&amp;lt;путь&amp;gt; и т.д. 4. Переход в каталог gentoo # cd /mnt/gentoo 5. Скачивание архива стадии # wget &amp;lt;сервер&amp;gt;/gentoo/releases/&amp;lt;архитектура&amp;gt;/current/stages/stage3-&amp;lt;архитектура&amp;gt;-2007.0.tar.bz2 6. Скачивание снимка дерева портежей # wget &amp;lt;сервер&amp;gt;/gentoo/snapshots/portage-latest.tar.bz2 7. Распаковка архива стадии # tar xvjpf stage3-i686-2007.0.tar.bz2 8. Распаковка снимка дерева портежей # tar xvjf /mnt/gentoo/portage-latest."><meta property="og:url" content="https://bubnovd.github.io/blogger/%D1%88%D0%BF%D0%B0%D1%80%D0%B0%D0%B3%D0%B0%D0%BB%D0%BA%D0%B0-%D0%BF%D0%BE-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B5-gentoo/"><meta property="og:site_name" content="Bubnovd"><meta property="og:image" content="https://bubnovd.github.io/img/favicon/blue.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2011-05-26 21:51:00 +0000 UTC"></head><body class=blue><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=https://bubnovd.github.io/><div class=logo>Terminal</div></a></div></div></header><div class=content><div class=post><h1 class=post-title><a href=https://bubnovd.github.io/blogger/%D1%88%D0%BF%D0%B0%D1%80%D0%B0%D0%B3%D0%B0%D0%BB%D0%BA%D0%B0-%D0%BF%D0%BE-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B5-gentoo/>Шпарагалка по установке gentoo</a></h1><div class=post-meta><span class=post-date>2011-05-26</span>
<span class=post-author>:: map[name:devi1 uri:https://www.blogger.com/profile/05777499482649623616]</span></div><span class=post-tags>#<a href=https://bubnovd.github.io/tags/inux/>inux</a>&nbsp;
#<a href=https://bubnovd.github.io/tags/%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0/>установка</a>&nbsp;
#<a href=https://bubnovd.github.io/tags/install/>install</a>&nbsp;
#<a href=https://bubnovd.github.io/tags/gentoo/>gentoo</a>&nbsp;</span><div class=post-content><div><p>Шпарагалка по установке gentoo. Скопипизжено отсюда: <a href=http://freehabr.ru/blog/17.html>http://freehabr.ru/blog/17.html</a> 1. Разметка # fdisk /dev/sda 2. Форматирование разделов # mkfs -t &lt;тип_ФС> /dev/sda&lt;номер_раздела> и т.д. Установка базовой системы 3. Монтирование разделов # mount /dev/sda&lt;номер_раздела> /mnt/gentoo/&lt;путь> и т.д. 4. Переход в каталог gentoo # cd /mnt/gentoo 5. Скачивание архива стадии # wget &lt;сервер>/gentoo/releases/&lt;архитектура>/current/stages/stage3-&lt;архитектура>-2007.0.tar.bz2 6. Скачивание снимка дерева портежей # wget &lt;сервер>/gentoo/snapshots/portage-latest.tar.bz2 7. Распаковка архива стадии # tar xvjpf stage3-i686-2007.0.tar.bz2 8. Распаковка снимка дерева портежей # tar xvjf /mnt/gentoo/portage-latest.tar.bz2 -C /mnt/gentoo/usr Файлы настройки 9. Правка одного из основных файлов Gentoo Файл: /mnt/gentoo/etc/make.conf # За подробностями см. make.conf.example CFLAGS="-O&lt;уровень_оптимизации> -march=&lt;тип_ЦПУ> -pipe" CXXFLAGS="${CFLAGS}" # Не изменять CHOST="&lt;архитектура>" MAKEOPTS="-j&lt;кол-во_процессоров+1>" GENTOO_MIRRORS=«distro.ibiblio.org/pub/linux/distributions/gentoo/ „ SYNC=“rsync://rsync.gentoo.org/gentoo-portage» # Для поддержки мыши и клавиатуры в Xorg INPUT_DEVICES=«keyboard mouse» # Для поддержки видеокарты в Xorg VIDEO_CARDS="&lt;название_драйвера>" # См. /mnt/gentoo/usr/portage/profiles/use.desc # См. /mnt/gentoo/usr/portage/profiles/use.local.desc USE="&lt;флаги>" 10. Настройка DNS Файл: /mnt/gentoo/etc/resolv.conf nameserver &lt;IP_сервера_DNS> nameserver &lt;IP_ещё_одного_сервера_DNS> Или просто скопировать текущую информацию о DNS-серверах # cp -L /etc/resolv.conf /mnt/gentoo/etc/resolv.conf 11. Информация о файловых системах Файл: /mnt/gentoo/etc/fstab /dev/sda1 / &lt;файловая_система> defaults 0 1 /dev/sda&lt;номер_раздела> none swap sw 0 2 /dev/sda&lt;номер_раздела> &lt;каталог> &lt;файловая_система> defaults 0 2 proc /proc proc defaults 0 0 # Если /tmp нужен в ОЗУ none /tmp tmpfs defaults 0 0 # Если CD/DVD монтируется вручную # Указанное для mod значение снимает флаг исполнения с файлов на CD/DVD /dev/hd/mnt/cdrom auto user,ro,noauto,uid=1000,gid=1000,mode=100644 0 0 # Если планируется использование DVD-RAM /dev/hd/mnt/dvdram auto user,rw,noauto 0 0 # Если флоппи кому-то ещё нужен /dev/fd0 /mnt/floppy auto user,iocharset=cp1251,noauto,rw,noexec,showexec 0 0 12. Имя машины Файл: /mnt/gentoo/etc/conf.d/hostname HOSTNAME="&lt;название_хоста>" 13. Настройка сетевых параметров Файл: /mnt/gentoo/etc/conf.d/net # Задать параметры вручную… config_eth0=( " 192.168.0.1 netmask 255.255.255.0 broadcast 192.168.0.255" ) routes_eth0=( «default gw 192.168.0.1» ) #… или получить их автоматически config_eth0=( «dhcp» ) dhcp_eth0=«nodns nontp nonis» Оживление Gentoo 14. Монтирование /proc # mount -t proc none /mnt/gentoo/proc 15. Монтирование /dev # mount -o bind /dev /mnt/gentoo/dev 16. Смена корневого каталога # chroot /mnt/gentoo /bin/bash ВАЖНО: Дальнейшие команды будут выполняться в среде Gentoo 17. Обновление переменных среды # env-update # source /etc/profile 18. Смена приглашения командной строки # export PS1="(chroot) $PS1" Сборка ядра 19. Обновление дерева портежей # emerge &ndash;sync или # emerge-webrsync 20. Установка исходных кодов ядра Gentoo # USE="-doc symlink" emerge gentoo-sources 21. Настройка ядра Gentoo # cd /usr/src/linux # make menuconfig ВАЖНО: Требует дополнительных действий (См. «Логика настройки ядра») 22. Компиляция ядра # make && make modules_install 23. Установка ядра # cp arch/i386/boot/bzImage /boot/linux-&lt;архитектура>-gentoo Прочие системные установки 24. Сетевое подключение при загрузке системы # rc-update add net.eth0 default 25. Пароль суперпользователя # passwd 26. Система журналирования # emerge syslog-ng # rc-update add syslog-ng default 27. Периодические задания (по необходимости) # emerge vixie-cron # rc-update add vixie-cron default 28. Установка клиента DHCP (по необходимости) # emerge dhcpcd 29. Установка клиента PPPoE (по необходимости) # USE="-X" emerge rp-pppoe Настройка загрузчика 30. Установка загрузчика LILO # emerge lilo 31. Настройка LILO Файл: /etc/lilo.conf boot=/dev/sda prompt timeout=200 default=gentoo image=/boot/linux-&lt;архитектура>-gentoo label=gentoo read-only root=/dev/sda32. Записать LILO # /sbin/lilo Локализация в UNICODE 33. Установка шрифтов # emerge terminus-font intlfonts freefonts cronyx-fonts corefonts artwiz-fonts kbd 34. Включение нужных локалей Файл: /etc/locale.gen en_US ISO-8859-1 en_US.UTF-8 UTF-8 ru_RU.CP1251 CP1251 ru_RU.KOI8-R KOI8-R ru_RU.UTF-8 UTF-8 35. Пересборка glibc # emerge -av glibc 36. Сборка локали # locale-gen 37. Переменные окружения Файл: /etc/env.d/02locale LC_ALL="" LANG=«ru_RU.UTF-8» LC_NUMERIC=«C» 38. Файл rc.conf Файл: /etc/rc.conf UNICODE=«yes» 39. Шрифт консоли Файл: /etc/conf.d/consolefont CONSOLEFONT=«Cyr_a8x16» 40. Карта Файл: /etc/conf.d/keymaps KEYMAP="-u ru4" SET_WINDOWKEYS=«yes» EXTENDED_KEYMAPS="" DUMPKEYS_CHARSET=«koi8-r» Загрузка Gentoo 41. Выход из окружения Gentoo # exit 42. Размонтирование разделов # cd / # umount /mnt/gentoo/&lt;путь> и т.д. 43. Перезагрузка # reboot</p></div></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//bubnovd-github-io.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=https://bubnovd.github.io/assets/main.js></script>
<script src=https://bubnovd.github.io/assets/prism.js></script></div></body></html>