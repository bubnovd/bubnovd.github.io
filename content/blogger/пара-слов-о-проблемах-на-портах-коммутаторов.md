+++
title = "Пара слов о проблемах на портах коммутаторов"
date = 2014-02-10T10:17:00Z
updated = 2014-02-10T10:17:33Z
tags = ["коллизии", "коммутатор", "duplex", "autonegotiate", "коммутация", "collision", "crc"]
blogimport = true 
[author]
	name = "devi1"
	uri = "https://www.blogger.com/profile/05777499482649623616"
+++

При выставленной опции autonegotiation на порту свитча и сетевой карте клиента, оба устройства пытаются договориться о параметрах скорости и дуплекса на линке.<br /><ol><li>Если не удаётся согласовать параметры, то используется 10 Мб/с, полудуплекс.</li><li>Если коммутатор определяет скорость линка без использования автосогласования, то&nbsp;</li><ol><ol><li>Если скорость 10 Мб/с или 100 Мб/с, используется полудуплекс.</li><li>&nbsp;Если скорость 1 Гб/с, используется полный дуплекс.</li></ol></ol></ol><br /><br /><br /><a name='more'></a><br />Причем, при выставлении дуплекса в фулл, получаем скорость в 2 раза выше (в идеале, конечно) доступной на линке. Т.е. в полудуплексе имеем 10 Мб/с, а в полном дуплексе уже 10*2 Мб/с. За счет того, что данные могут бегать в обоих направлениях.<br /><br /><br />Ошибки на портах:<br /><ol><li>Runts. Количество фреймов, не достигших minimal frame size. 64 байта или 512 бит. 18 байт служебной информации (Source MAC, Destination MAC, CRC) и 46 байт полезной нагрузки (инкапсулированной в протоколы более высокого уровня).</li><li>Giants. Количество фреймов, превышающих maximum frame size. 1518 байт или 12144 бит. 18 байт служебной информации + 1500 байт полезной нагрузки.</li><li>CRC. Количество принятых фреймов, не прошедших проверку контрольной суммы. То есть, поврежденные фреймы. Могут быть вызваны коллизиями. Смотреть первую часть поста.</li><li>Frame. Количество принятых фреймов неверного формата.</li><li>Collisions. Количество коллизий, произошедших при отправке фреймов.</li><li>Late Collisions. Количество коллизий, произошедших после передачи первых 64 байт фрейма. Скорее всего, несоответствие дуплексов.</li></ol>По режимам дуплекса гуглить CSMA/CD. Весь пост - вольный перевод Odom Wendell Cisco ICND1 100-101 Official Cert Guide. Инфа применительно к цискам.
