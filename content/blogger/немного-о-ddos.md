+++
title = "Немного о DDoS"
date = 2014-09-14T12:50:00Z
updated = 2014-09-14T13:23:22Z
tags = ["DDoS", "security"]
blogimport = true 
[author]
	name = "devi1"
	uri = "https://www.blogger.com/profile/05777499482649623616"
+++

<h5><span style="font-weight: normal;"><span style="font-size: small;">Немного о DDoS и методах борьбы с ним. Самое банальное - настраивайте фаерволы.<a name='more'></a> </span></span></h5><h5><span style="font-weight: normal;"><span style="font-size: small;">С <a href="http://habrahabr.ru/company/ua-hosting/blog/233903/" target="_blank">хабра</a></span></span></h5><h5><a href="https://ru.wikipedia.org/wiki/Content_Delivery_Network" target="_blank"><span style="font-weight: normal;"><span style="font-size: small;">CDN</span></span></a>, <span style="font-weight: normal;"><span style="font-size: small;"><a href="http://habrahabr.ru/post/125823/" target="_blank">CloudFlare</a>, <a href="http://icquinov.ru/threads/%D0%A0%D0%B0%D1%81%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D1%8F-%D1%81%D0%B5%D0%BA%D1%80%D0%B5%D1%82%D0%BE%D0%B2-ddosa-%D0%B8-%D1%87%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-stresser.14614/" target="_blank">Stresser'ы</a>, </span></span></h5><h5>&nbsp;</h5><h5>UDP флуд</h5><br />Этот вид атак использует простейший UDP протокол. Его характерные  особенности — отсутствие необходимости в установлении сессии и отправки  какого-либо ответа. На случайные порты хост-машины приходит бесчисленное  количество пакетов, принуждая постоянно проверять, слушает ли данный  порт какое-то приложение, и в случае ошибки возвращать пакет «ICMP  Destination Unreachable». Естественно, такая активность поглощает  ресурсы хост-машины, приводя к её недоступности. Один из простейших  способов хотя бы частично защититься от данной проблемы — блокировка UDP  трафика (если Ваше приложение его не требует, конечно). Для борьбы с  более масштабными атаками подойдут аппаратные средства защиты и  фильтрующие сети.<br /><br /><h5>ICMP флуд</h5><br />Схож с UDP флудом. На хост-машину с максимальной частотой посылаются  ping-запросы, принуждающие её давать эхо-ответы. Невинный инструмент  проверки доступности сетевого узла становится злобным пожирателем  системных ресурсов. Именно поэтому некоторые системные администраторы  напрочь блокируют ICMP запросы на уровне фаервола. Сервер или любое  другое сетевое оборудование будет вполне доступным, но пропинговать его  Вы не сможете.<br /><br /><h5>SYN флуд</h5><br />В этом виде атак используется один из базовых принципов, заложенных в  протокол TCP — принцип «тройного рукопожатия». Машина, инициирующая  соединение, отправляет хост-машине SYN пакет. Хост отвечает пакетом  SYN-ACK, на что машина-инициатор должна ответить ACK пакетом. В случае  SYN флуда ACK пакет не отправляется, в результате чего соединение  некоторое время висит открытым и закрывается по тайм-ауту. Так как  количество подключений, которые одновременно могут поддерживаться  хост-машиной открытыми, ограничено, рано или поздно наступает насыщение,  приводящее к отказу в обработке полезных пакетов.<br /><br /><h5>MAC флуд</h5><br />Весьма экзотический тип атаки, направленный в основном на сетевое  оборудование. Атакующая сторона отправляет пустые Ethernet пакеты с  разными MAC адресами. Свитч рассматривает такие пакеты как отдельные, и  резервирует под каждый из них некое количество ресурсов. Насыщение  ресурсов может привести к тому, что свитч перестанет отвечать на  запросы, а в отдельных случаях — к полному сбою таблицы маршрутизации.<br /><br /><h5>Пинг смерти</h5><br />У этого вида разные имена: Ping of Death (пинг смерти), Teardrop  (слезинка) и некоторые другие. На сегодняшний день он уже не является  такой уж серьёзной угрозой, но в прежние времена всё было несколько  иначе. Максимальный размер IP пакета — 65535 байт. Однако в процессе  передачи по сети пакет дробится на части, соответствующие размеру окна. В  результате манипуляций с получившимися субпакетами можно добиться, что  при обратной «сборке» получится пакет, превышающий максимальный размер.  Это может привести к переполнению выделенного буфера памяти и отказу в  обслуживании для других пакетов.<br /><br /><h5>Slowloris</h5><br />Особо изощрённый и узко специализированный тип атаки, позволяющий  относительно малыми ресурсами (достаточно одного сервера) положить  веб-сервер, не затронув другие протоколы. Атакующий сервер пытается  открыть как можно больше HTTP соединений и держать их как можно дольше,  понемногу отправляя частичные запросы. Лимит одновременных подключений  на атакуемом сервере весьма быстро заканчивается, и он перестаёт  принимать полезные запросы. Лечится отлавливанием и блокировкой таких  затягивающихся соединений.<br /><br /><h5>Отражённые атаки</h5><br />В данном типе пакеты с фальсифицированными IP отправителя рассылаются  максимально возможному количеству машин. Ответы машин стекаются на IP  жертвы, перегружая её сервер. Один из распространённых примеров —  использование неверно настроенных DNS-серверов. DNS-серверам  отправляются небольшие запросы якобы от IP жертвы. Размер ответа сервера  в среднем в 10 раз превышает размер запроса. Таким образом, атакующий  сервер, рассылающий 100 Мбит/с ложных запросов, может обрушить на  атакуемый порядка гигабита паразитного трафика.<br /><br /><h5>Деградация сервиса</h5><br />Основная суть данного типа — множественная симуляция действий реальной  аудитории. Самый примитивный вариант — частые запросы одной и той же  страницы сайта. Лечится временной блокировкой страницы с отдачей  сообщения об ошибке. Более сложные атакующие системы будут случайным  образом ходить по Вашему сайту, запрашивать не только html документ, но и  все сопутствующие картинки, скрипты и файлы стилей. В результате  зомби-компьютеры будут истощать ресурсы сервера и приводить к деградации  (или, по-простонародному, «тормозам»). <br /><br />Общий принцип борьбы — поведенческий анализ и отсеивание подозрительных  IP на уровне фаервола. Например, повышенная частота запросов, повтор  маршрутов продвижения по сайту разными IP или запрос исключительно html  документов выглядят подозрительными и свидетельствуют в пользу  необходимости блокировки таких IP. Однако чем более сложный алгоритм  заложен в атакующую программу, тем сложнее выявить паразитный трафик и  тем больше ложноположительных срабатываний, блокирующих доступ к ресурсу  реальным пользователям. Не все захотят с этим мириться.<br /><br /><h5>Неумышленный DDoS</h5><br />Собственно, это нельзя назвать атакой. Этот вид DDoS-а происходит, когда  ссылка на какой-то сайт попадает, например, в топовый новостной ресурс  или популярный блог, вызывая резкий рост посещаемости, к которому сайт  оказывается не готов. Широко известным в узких кругах примером является  хабраэффект. Бороться с этим не нужно, скорее нужно радоваться, что Ваш  сайт растёт. Ну, и пора задуматься об апгрейде.<br /><br /><h5>Атака нулевого дня</h5><br />К этому типу относят атаки, которые фиксируются впервые. Как и в случае с  новыми вирусами, новыми бактериями и новыми паразитами, понадобится  время, чтобы проанализировать атаку и подобрать эффективное лекарство.<br /><br /><h5>Многовекторные атаки</h5><br />Наиболее сложный вид атак. Атакующая сторона использует несколько разных  типов и инструментов атаки, что существенно усложняет или даже делает  невозможным идентификацию составляющих и подбор средств борьбы.
